{"version":3,"file":"designr-data.js.map","sources":["ng://@designr/data/lib/config/data.config.ts","ng://@designr/data/lib/config/data.service.ts","ng://@designr/data/lib/data-module.component.ts","ng://@designr/data/lib/memory/memory.service.ts","ng://@designr/data/lib/data.module.ts"],"sourcesContent":["import { InjectionToken } from '@angular/core';\nimport { InMemoryBackendConfigArgs } from 'angular-in-memory-web-api';\nimport { Datas } from '../data/datas';\n\nexport const DATA_CONFIG = new InjectionToken<DataConfig>('data.config');\n\nexport class DataConfig {\n\tdatas?: Datas = {};\n\tmemory?: InMemoryBackendConfigArgs;\n\n\tconstructor(options?: DataConfig) {\n\t\tconsole.log('DataConfig', options);\n\t\tif (options) {\n\t\t\tthis.datas = options.datas || {};\n\t\t}\n\t}\n}\n","\nimport { Inject, Injectable } from '@angular/core';\nimport { DataConfig, DATA_CONFIG } from './data.config';\n\n@Injectable({\n\tprovidedIn: 'root'\n})\nexport class DataService {\n\n\tpublic options: DataConfig;\n\n\tconstructor(\n\t\t@Inject(DATA_CONFIG) options: DataConfig\n\t) {\n\t\tconsole.log('DataService', options);\n\t\toptions = options || {};\n\t\tthis.options = new DataConfig(options);\n\t}\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n    selector: 'data-module',\n    template: `<span class=\"data-module\">data {{version}}</span>`,\n    styles: []\n})\nexport class DataModuleComponent implements OnInit {\n\n    version: string = '0.0.2';\n\n    constructor() { }\n\n    ngOnInit() {\n    }\n\n}\n","import { Inject, Injectable } from '@angular/core';\nimport { InMemoryDbService, ParsedRequestUrl } from 'angular-in-memory-web-api';\nimport { DataConfig, DATA_CONFIG } from '../config/data.config';\n\n@Injectable({\n\tprovidedIn: 'root',\n})\nexport class MemoryService implements InMemoryDbService {\n\n\tconstructor(\n\t\t@Inject(DATA_CONFIG) private config: DataConfig,\n\t\t// @Inject(forwardRef(() => DataService)) public dataService: DataService\n\t\t// private dataService: DataService,\n\t) {\n\t\tconsole.log('DatasService', config);\n\t}\n\n\tcreateDb() {\n\t\tconsole.log('MemoryService.createDb', this.config.datas);\n\t\treturn this.config.datas || {};\n\t}\n\n\tparseRequestUrl(url: string, service): ParsedRequestUrl {\n\t\t// !!! REMAPPING\n\t\t/*\n\t\tif (this.dataService.options.memory && this.dataService.options.memory.remap) {\n\t\t\tObject.keys(this.dataService.options.memory.remap).forEach((k: string) => {\n\t\t\t\turl = url.replace(k, this.dataService.options.memory.remap[k]);\n\t\t\t});\n\t\t}\n\t\t*/\n\t\tconst parsed: ParsedRequestUrl = service.parseRequestUrl(url);\n\t\treturn parsed;\n\t}\n\n}\n\n/*\nexport class MemoryApiConfig extends InMemoryBackendConfig implements InMemoryBackendConfigArgs {\n\n\tapiBase?: string;\n\tcaseSensitiveSearch?: boolean;\n\tdataEncapsulation?: boolean;\n\tdelay?: number;\n\tdelete404?: boolean;\n\thost?: string;\n\tpassThruUnknownUrl?: boolean;\n\tpost204?: boolean;\n\tpost409?: boolean;\n\tput204?: boolean;\n\tput404?: boolean;\n\trootPath?: string;\n\n\tremap?: { [key: string]: string };\n\tdataBase?: { [key: string]: any[] };\n\n\tconstructor(options?: MemoryApiConfig) {\n\t\tsuper(options);\n\t\tconsole.log('MemoryApiConfig', options);\n\t\tif (options) {\n\t\t\tObject.assign(this, options);\n\t\t}\n\t}\n}\n*/\n","import { CommonModule } from '@angular/common';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { ModuleWithProviders, NgModule, Optional, SkipSelf } from '@angular/core';\r\nimport { CoreModule } from '@designr/core';\r\nimport { HttpClientInMemoryWebApiModule } from 'angular-in-memory-web-api';\r\nimport { DataConfig, DATA_CONFIG } from './config/data.config';\r\nimport { DataService } from './config/data.service';\r\nimport { DataModuleComponent } from './data-module.component';\r\nimport { MemoryService } from './memory/memory.service';\r\n\r\nconst services = [\r\n\tDataService,\r\n];\r\n\r\nconst components = [\r\n\tDataModuleComponent,\r\n];\r\n\r\nconst directives = [\r\n];\r\n\r\nconst pipes = [\r\n];\r\n\r\nconst validators = [\r\n];\r\n\r\nconst guards = [\r\n];\r\n\r\n@NgModule({\r\n\timports: [\r\n\t\tCommonModule,\r\n\t\tHttpClientModule,\r\n\t\tHttpClientInMemoryWebApiModule,\r\n\t\tCoreModule,\r\n\t],\r\n\tproviders: [\r\n\t\t...services,\r\n\t],\r\n\tdeclarations: [\r\n\t\t...components,\r\n\t],\r\n\texports: [\r\n\t\tHttpClientInMemoryWebApiModule,\r\n\t\tCoreModule,\r\n\t\t...components,\r\n\t],\r\n})\r\n\r\nexport class DataModule {\r\n\r\n\tconstructor(\r\n\t\t@Optional() @SkipSelf() parentModule: DataModule\r\n\t) {\r\n\t\tif (parentModule) {\r\n\t\t\tthrow new Error('DataModule is already loaded. Import it in the AppModule only');\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static forRoot(\r\n\t\tconfig?: DataConfig,\r\n\t): ModuleWithProviders {\r\n\t\treturn {\r\n\t\t\tngModule: DataModule,\r\n\t\t\tproviders: [\r\n\t\t\t\t{ provide: DATA_CONFIG, useValue: config },\r\n\t\t\t\t...HttpClientInMemoryWebApiModule.forRoot(\r\n\t\t\t\t\tMemoryService, config.memory\r\n\t\t\t\t).providers\r\n\t\t\t]\r\n\t\t};\r\n\t}\r\n\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;AAAA;AAIA,MAAa,WAAW,GAAG,IAAI,cAAc,CAAa,aAAa,CAAC;AAExE,MAAa,UAAU;;;;IAItB,YAAY,OAAoB;QAHhC,UAAK,GAAW,EAAE,CAAC;QAIlB,OAAO,CAAC,GAAG,CAAC,YAAY,EAAE,OAAO,CAAC,CAAC;QACnC,IAAI,OAAO,EAAE;YACZ,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,IAAI,EAAE,CAAC;SACjC;KACD;CACD;;;;;;ACfD,MAMa,WAAW;;;;IAIvB,YACsB,OAAmB;QAExC,OAAO,CAAC,GAAG,CAAC,aAAa,EAAE,OAAO,CAAC,CAAC;QACpC,OAAO,GAAG,OAAO,IAAI,EAAE,CAAC;QACxB,IAAI,CAAC,OAAO,GAAG,IAAI,UAAU,CAAC,OAAO,CAAC,CAAC;KACvC;;;YAbD,UAAU,SAAC;gBACX,UAAU,EAAE,MAAM;aAClB;;;;YAJQ,UAAU,uBAUhB,MAAM,SAAC,WAAW;;;;;;;;ACZrB,MAOa,mBAAmB;IAI5B;QAFA,YAAO,GAAW,OAAO,CAAC;KAET;;;;IAEjB,QAAQ;KACP;;;YAZJ,SAAS,SAAC;gBACP,QAAQ,EAAE,aAAa;gBACvB,QAAQ,EAAE,mDAAmD;aAEhE;;;;;;;;;ACND,MAOa,aAAa;;;;IAEzB,YAC8B,MAAkB;QAAlB,WAAM,GAAN,MAAM,CAAY;QAI/C,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC;KACpC;;;;IAED,QAAQ;QACP,OAAO,CAAC,GAAG,CAAC,wBAAwB,EAAE,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QACzD,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK,IAAI,EAAE,CAAC;KAC/B;;;;;;IAED,eAAe,CAAC,GAAW,EAAE,OAAO;;;;;;;;;;cAS7B,MAAM,GAAqB,OAAO,CAAC,eAAe,CAAC,GAAG,CAAC;QAC7D,OAAO,MAAM,CAAC;KACd;;;YA7BD,UAAU,SAAC;gBACX,UAAU,EAAE,MAAM;aAClB;;;;YAJQ,UAAU,uBAQhB,MAAM,SAAC,WAAW;;;;;;;;ACVrB;MAUM,QAAQ,GAAG;IAChB,WAAW;CACX;;MAEK,UAAU,GAAG;IAClB,mBAAmB;CACnB;MAkCY,UAAU;;;;IAEtB,YACyB,YAAwB;QAEhD,IAAI,YAAY,EAAE;YACjB,MAAM,IAAI,KAAK,CAAC,+DAA+D,CAAC,CAAC;SACjF;KACD;;;;;IAEM,OAAO,OAAO,CACpB,MAAmB;QAEnB,OAAO;YACN,QAAQ,EAAE,UAAU;YACpB,SAAS,EAAE;gBACV,EAAE,OAAO,EAAE,WAAW,EAAE,QAAQ,EAAE,MAAM,EAAE;gBAC1C,GAAG,8BAA8B,CAAC,OAAO,CACxC,aAAa,EAAE,MAAM,CAAC,MAAM,CAC5B,CAAC,SAAS;aACX;SACD,CAAC;KACF;;;YA1CD,QAAQ,SAAC;gBACT,OAAO,EAAE;oBACR,YAAY;oBACZ,gBAAgB;oBAChB,8BAA8B;oBAC9B,UAAU;iBACV;gBACD,SAAS,EAAE;oBACV,GAAG,QAAQ;iBACX;gBACD,YAAY,EAAE;oBACb,GAAG,UAAU;iBACb;gBACD,OAAO,EAAE;oBACR,8BAA8B;oBAC9B,UAAU;oBACV,GAAG,UAAU;iBACb;aACD;;;;YAKuC,UAAU,uBAA/C,QAAQ,YAAI,QAAQ;;;;;;;;;;;;;;;"}
