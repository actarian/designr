{"version":3,"file":"designr-control.js.map","sources":["ng://@designr/control/lib/control/control-option.ts","ng://@designr/control/lib/control/checkbox/control-checkbox.ts","ng://@designr/control/lib/control/control.component.ts","ng://@designr/control/lib/control/checkbox/control-checkbox.component.ts","ng://@designr/control/lib/control/email/control-email.ts","ng://@designr/control/lib/control/email/control-email.component.ts","ng://@designr/control/lib/control/group/control-group.ts","ng://@designr/control/lib/control/group/control-group.component.ts","ng://@designr/control/lib/control/info/control-info.ts","ng://@designr/control/lib/control/info/control-info.component.ts","ng://@designr/control/lib/control/markdown/control-markdown.ts","ng://@designr/control/lib/control/markdown/control-markdown.component.ts","ng://@designr/control/lib/control/number/control-number.ts","ng://@designr/control/lib/control/number/control-number.component.ts","ng://@designr/control/lib/control/password/control-password.ts","ng://@designr/control/lib/control/password/control-password.component.ts","ng://@designr/control/lib/control/radio/control-radio.ts","ng://@designr/control/lib/control/radio/control-radio.component.ts","ng://@designr/control/lib/control/select/control-select.ts","ng://@designr/control/lib/control/select/control-select.component.ts","ng://@designr/control/lib/control/text/control-text.ts","ng://@designr/control/lib/control/text/control-text.component.ts","ng://@designr/control/lib/control/textarea/control-textarea.ts","ng://@designr/control/lib/control/textarea/control-textarea.component.ts","ng://@designr/control/lib/config/control.config.ts","ng://@designr/control/lib/control-module.component.ts","ng://@designr/control/lib/directives/exists.validator.ts","ng://@designr/control/lib/directives/match.validator.ts","ng://@designr/control/lib/control/control.service.ts","ng://@designr/control/lib/control/control-outlet.component.ts","ng://@designr/control/lib/control/control.accessor.ts","ng://@designr/control/lib/control/controls.component.ts","ng://@designr/control/lib/directives/exists.directive.ts","ng://@designr/control/lib/directives/match.directive.ts","ng://@designr/control/lib/directives/uppercase.directive.ts","ng://@designr/control/lib/form/form.service.ts","ng://@designr/control/lib/control.module.ts"],"sourcesContent":["\r\n// let UNIQUE_ID: number = 0;\r\n\r\nexport interface IControlOption<T> {\r\n\tschema: string;\r\n\tvalue?: T;\r\n\torder?: number;\r\n\tkey?: string;\r\n\tlabel?: string;\r\n\tplaceholder?: string;\r\n\ttitle?: string;\r\n\tabstract?: string;\r\n\tdescription?: string;\r\n\thidden?: boolean;\r\n\tdisabled?: boolean;\r\n\trequired?: boolean;\r\n\texists?: Function;\r\n\tmatch?: string;\r\n\treverse?: boolean;\r\n\tminlength?: number;\r\n\tmaxlength?: number;\r\n\tpattern?: string | RegExp;\r\n\t[x: string]: any;\r\n}\r\n\r\nexport class ControlOption<T> {\r\n\tschema: string = 'text';\r\n\tvalue?: T;\r\n\torder?: number;\r\n\tkey?: string;\r\n\tlabel?: string;\r\n\tplaceholder?: string;\r\n\ttitle?: string;\r\n\tabstract?: string;\r\n\tdescription?: string;\r\n\thidden?: boolean;\r\n\tdisabled?: boolean;\r\n\trequired?: boolean;\r\n\texists?: Function;\r\n\tmatch?: string;\r\n\treverse?: boolean;\r\n\tminlength?: number;\r\n\tmaxlength?: number;\r\n\tpattern?: string | RegExp;\r\n\r\n\tconstructor(options?: IControlOption<T>) {\r\n\t\tif (options) {\r\n\t\t\tObject.assign(this, options);\r\n\t\t}\r\n\t}\r\n\r\n}\r\n","import { ControlOption } from '../control-option';\r\n\r\nexport class ControlCheckbox extends ControlOption<boolean> {\r\n\tschema: string = 'checkbox';\r\n\trequiredTrue?: boolean;\r\n}\r\n","import { NgForOfContext } from '@angular/common';\r\nimport { Component, ContentChild, Input, TemplateRef } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { DisposableComponent } from '@designr/core';\r\nimport { IControlOption } from './control-option';\r\n\r\n@Component({\r\n\tselector: 'control-component',\r\n\ttemplateUrl: 'control.component.html',\r\n})\r\nexport class ControlComponent extends DisposableComponent {\r\n\r\n\t// @ContentChild('controlRef') controlRef: TemplateRef<NgForOfContext<ControlComponent>>;\r\n\t// @ContentChild('labelRef') labelRef: TemplateRef<NgForOfContext<ControlComponent>>;\r\n\t@ContentChild('inputRef') inputRef: TemplateRef<NgForOfContext<ControlComponent>>;\r\n\t@ContentChild('errorRef') errorRef: TemplateRef<NgForOfContext<ControlComponent>>;\r\n\r\n\t@Input() option: IControlOption<any>;\r\n\t@Input() form: FormGroup;\r\n\r\n\tget context(): ControlComponent {\r\n\t\treturn this;\r\n\t}\r\n\r\n\tget control(): AbstractControl {\r\n\t\t// console.log('control', this.option.key, this.form.controls);\r\n\t\treturn this.form.controls[this.option.key];\r\n\t}\r\n\r\n\tget isValid(): boolean {\r\n\t\treturn this.control.valid;\r\n\t}\r\n\r\n\tget classes(): {\r\n\t\tvalid?: boolean,\r\n\t\tinvalid?: boolean,\r\n\t\tdirty?: boolean,\r\n\t\tempty?: boolean,\r\n\t\trequired?: boolean,\r\n\t\tdisabled?: boolean\r\n\t} {\r\n\t\treturn {\r\n\t\t\tvalid: this.control.valid,\r\n\t\t\tinvalid: this.control.invalid,\r\n\t\t\tdirty: this.control.dirty,\r\n\t\t\tempty: Boolean(this.control.value == null),\r\n\t\t\trequired: Boolean(this.option.required || this.option.requiredTrue),\r\n\t\t\tdisabled: this.option.disabled,\r\n\t\t};\r\n\t}\r\n\r\n}\r\n","import { Component, Input } from '@angular/core';\r\nimport { ControlComponent } from '../control.component';\r\nimport { ControlCheckbox } from './control-checkbox';\r\n\r\n@Component({\r\n\tselector: 'control-checkbox-component',\r\n\ttemplateUrl: 'control-checkbox.component.html',\r\n})\r\nexport class ControlCheckboxComponent extends ControlComponent {\r\n\r\n\t@Input() option: ControlCheckbox;\r\n\r\n}\r\n","import { ControlOption } from '../control-option';\r\n\r\nexport class ControlEmail extends ControlOption<string> {\r\n\tschema: string = 'email';\r\n\tminlength?: number;\r\n\tmaxlength?: number;\r\n\tpattern?: string | RegExp = '[a-zA-Z0-9.-_]{1,}@[a-zA-Z.-]{2,}[.]{1}[a-zA-Z]{2,}';\r\n}\r\n","import { Component, Input } from '@angular/core';\r\nimport { ControlComponent } from '../control.component';\r\nimport { ControlEmail } from './control-email';\r\n\r\n@Component({\r\n\tselector: 'control-email-component',\r\n\ttemplateUrl: 'control-email.component.html',\r\n})\r\nexport class ControlEmailComponent extends ControlComponent {\r\n\r\n\t@Input() option: ControlEmail;\r\n\r\n}\r\n","import { ControlOption } from '../control-option';\r\n\r\nexport class ControlGroup extends ControlOption<any[]> {\r\n\tschema: string = 'group';\r\n\ttitle?: string;\r\n\tabstract?: string;\r\n\toptions?: ControlOption<any>[];\r\n}\r\n","import { Component, Input } from '@angular/core';\r\nimport { ControlComponent } from '../control.component';\r\nimport { ControlGroup } from './control-group';\r\n\r\n@Component({\r\n\tselector: 'control-group-component',\r\n\ttemplateUrl: 'control-group.component.html',\r\n})\r\nexport class ControlGroupComponent extends ControlComponent {\r\n\t@Input() option: ControlGroup;\r\n}\r\n","import { ControlOption } from '../control-option';\r\n\r\nexport class ControlInfo extends ControlOption<any[]> {\r\n\tschema: string = 'info';\r\n\ttitle?: string;\r\n\tabstract?: string;\r\n}\r\n","import { Component, Input } from '@angular/core';\r\nimport { AbstractControl } from '@angular/forms';\r\nimport { ControlComponent } from '../control.component';\r\nimport { ControlInfo } from './control-info';\r\n\r\n@Component({\r\n\tselector: 'control-info-component',\r\n\ttemplateUrl: 'control-info.component.html',\r\n})\r\nexport class ControlInfoComponent extends ControlComponent {\r\n\r\n\t@Input() option: ControlInfo;\r\n\r\n\tget control(): AbstractControl {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tget isValid() {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tget classes(): {\r\n\t\tvalid?: boolean,\r\n\t\tinvalid?: boolean,\r\n\t\tdirty?: boolean,\r\n\t\tempty?: boolean,\r\n\t\trequired?: boolean,\r\n\t\tdisabled?: boolean\r\n\t} {\r\n\t\treturn {};\r\n\t}\r\n}\r\n","import { ControlOption } from '../control-option';\r\n\r\nexport class ControlMarkdown extends ControlOption<string> {\r\n\tschema: string = 'markdown';\r\n}\r\n","import { Component, Input } from '@angular/core';\r\nimport { ControlComponent } from '../control.component';\r\nimport { ControlMarkdown } from './control-markdown';\r\n\r\n@Component({\r\n\tselector: 'control-markdown-component',\r\n\ttemplateUrl: 'control-markdown.component.html',\r\n})\r\nexport class ControlMarkdownComponent extends ControlComponent {\r\n\r\n\t@Input() option: ControlMarkdown;\r\n\r\n}\r\n","import { ControlOption } from '../control-option';\r\n\r\nexport class ControlNumber extends ControlOption<string> {\r\n\tschema: string = 'number';\r\n\tmin?: number;\r\n\tmax?: number;\r\n\tstep?: number;\r\n}\r\n","import { Component, Input } from '@angular/core';\r\nimport { ControlComponent } from '../control.component';\r\nimport { ControlNumber } from './control-number';\r\n\r\n@Component({\r\n\tselector: 'control-number-component',\r\n\ttemplateUrl: 'control-number.component.html',\r\n})\r\nexport class ControlNumberComponent extends ControlComponent {\r\n\r\n\t@Input() option: ControlNumber;\r\n\r\n}\r\n","import { ControlOption } from '../control-option';\r\n\r\nexport class ControlPassword extends ControlOption<string> {\r\n\tschema: string = 'password';\r\n\tminlength?: number;\r\n\tmaxlength?: number;\r\n\tpattern?: string | RegExp;\r\n}\r\n","import { Component, Input } from '@angular/core';\r\nimport { ControlComponent } from '../control.component';\r\nimport { ControlPassword } from './control-password';\r\n\r\n@Component({\r\n\tselector: 'control-password-component',\r\n\ttemplateUrl: 'control-password.component.html',\r\n})\r\nexport class ControlPasswordComponent extends ControlComponent {\r\n\r\n\treveal: { checked: boolean } = { checked: false };\r\n\r\n\t@Input() option: ControlPassword;\r\n\r\n}\r\n","import { ControlOption } from '../control-option';\r\n\r\nexport class ControlRadio extends ControlOption<boolean> {\r\n\tschema: string = 'radio';\r\n}\r\n","import { Component, Input } from '@angular/core';\r\nimport { ControlComponent } from '../control.component';\r\nimport { ControlRadio } from './control-radio';\r\n\r\n@Component({\r\n\tselector: 'control-radio-component',\r\n\ttemplateUrl: 'control-radio.component.html',\r\n})\r\nexport class ControlRadioComponent extends ControlComponent {\r\n\r\n\t@Input() option: ControlRadio;\r\n\r\n}\r\n","import { Observable } from 'rxjs';\r\nimport { ControlOption } from '../control-option';\r\n\r\nexport interface ControlSelectOption {\r\n\tid: any;\r\n\tname: string;\r\n}\r\n\r\nexport class ControlSelect extends ControlOption<string> {\r\n\tschema: string = 'select';\r\n\toptions?: ControlSelectOption[] | Observable<ControlSelectOption[]>;\r\n\tasObject: boolean;\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { isObservable, Observable, of } from 'rxjs';\r\nimport { takeUntil, tap } from 'rxjs/operators';\r\nimport { ControlComponent } from '../control.component';\r\nimport { ControlSelect, ControlSelectOption } from './control-select';\r\n\r\n@Component({\r\n\tselector: 'control-select-component',\r\n\ttemplateUrl: 'control-select.component.html',\r\n})\r\nexport class ControlSelectComponent extends ControlComponent implements OnInit {\r\n\r\n\t@Input() option: ControlSelect;\r\n\toptions: ControlSelectOption[] = [];\r\n\tgetValue: Function = this.getValue_.bind(this);\r\n\tcompareWith: Function = this.compareWith_.bind(this);\r\n\r\n\tngOnInit() {\r\n\t\tthis.options$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe),\r\n\t\t\ttap(options => {\r\n\t\t\t\tif (this.option.asObject && this.control.value === null) {\r\n\t\t\t\t\tconst firstNullOptions = options.find(x => x.id === null);\r\n\t\t\t\t\tif (firstNullOptions !== undefined) {\r\n\t\t\t\t\t\tthis.control.setValue(firstNullOptions);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t).subscribe(options => this.options = options);\r\n\t}\r\n\r\n\toptions$(): Observable<ControlSelectOption[]> {\r\n\t\tconst options = this.option.options;\r\n\t\tif (options) {\r\n\t\t\tif (isObservable(options)) {\r\n\t\t\t\treturn options;\r\n\t\t\t} else if (Array.isArray(options)) {\r\n\t\t\t\treturn of(options);\r\n\t\t\t} else {\r\n\t\t\t\treturn of([]);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn of([]);\r\n\t\t}\r\n\t}\r\n\r\n\tgetValue_(item: ControlSelectOption): any {\r\n\t\treturn this.option.asObject ? item : item.id;\r\n\t}\r\n\r\n\tcompareWith_(a: ControlSelectOption | string | number, b: ControlSelectOption | string | number) {\r\n\t\tif (this.option.asObject) {\r\n\t\t\ta = a as ControlSelectOption;\r\n\t\t\tb = b as ControlSelectOption;\r\n\t\t\treturn (b && b.id !== undefined) ? a.id === b.id : a.id === b;\r\n\t\t} else {\r\n\t\t\treturn b ? a === b : a === null;\r\n\t\t}\r\n\t}\r\n}\r\n","import { ControlOption } from '../control-option';\r\n\r\nexport class ControlText extends ControlOption<string> {\r\n\tschema: string = 'text';\r\n\tminlength?: number;\r\n\tmaxlength?: number;\r\n\tpattern?: string | RegExp;\r\n}\r\n","import { Component, Input } from '@angular/core';\r\nimport { ControlComponent } from '../control.component';\r\nimport { ControlText } from './control-text';\r\n\r\n@Component({\r\n\tselector: 'control-text-component',\r\n\ttemplateUrl: 'control-text.component.html',\r\n})\r\nexport class ControlTextComponent extends ControlComponent {\r\n\r\n\t@Input() option: ControlText;\r\n\r\n}\r\n","import { ControlOption } from '../control-option';\r\n\r\nexport class ControlTextarea extends ControlOption<string> {\r\n\tschema: string = 'textarea';\r\n\tminlength?: number;\r\n\tmaxlength?: number;\r\n\tpattern?: string | RegExp;\r\n}\r\n","import { Component, Input } from '@angular/core';\r\nimport { ControlComponent } from '../control.component';\r\nimport { ControlTextarea } from './control-textarea';\r\n\r\n@Component({\r\n\tselector: 'control-textarea-component',\r\n\ttemplateUrl: 'control-textarea.component.html',\r\n})\r\nexport class ControlTextareaComponent extends ControlComponent {\r\n\r\n\t@Input() option: ControlTextarea;\r\n\r\n}\r\n","import { InjectionToken, Type } from '@angular/core';\r\nimport { ControlCheckbox } from '../control/checkbox/control-checkbox';\r\nimport { ControlCheckboxComponent } from '../control/checkbox/control-checkbox.component';\r\nimport { IControlOption } from '../control/control-option';\r\nimport { ControlComponent } from '../control/control.component';\r\nimport { ControlEmail } from '../control/email/control-email';\r\nimport { ControlEmailComponent } from '../control/email/control-email.component';\r\nimport { ControlGroup } from '../control/group/control-group';\r\nimport { ControlGroupComponent } from '../control/group/control-group.component';\r\nimport { ControlInfo } from '../control/info/control-info';\r\nimport { ControlInfoComponent } from '../control/info/control-info.component';\r\nimport { ControlMarkdown } from '../control/markdown/control-markdown';\r\nimport { ControlMarkdownComponent } from '../control/markdown/control-markdown.component';\r\nimport { ControlNumber } from '../control/number/control-number';\r\nimport { ControlNumberComponent } from '../control/number/control-number.component';\r\nimport { ControlPassword } from '../control/password/control-password';\r\nimport { ControlPasswordComponent } from '../control/password/control-password.component';\r\nimport { ControlRadio } from '../control/radio/control-radio';\r\nimport { ControlRadioComponent } from '../control/radio/control-radio.component';\r\nimport { ControlSelect } from '../control/select/control-select';\r\nimport { ControlSelectComponent } from '../control/select/control-select.component';\r\nimport { ControlText } from '../control/text/control-text';\r\nimport { ControlTextComponent } from '../control/text/control-text.component';\r\nimport { ControlTextarea } from '../control/textarea/control-textarea';\r\nimport { ControlTextareaComponent } from '../control/textarea/control-textarea.component';\r\n\r\nexport interface ControlInterface {\r\n\tcomponent: Type<ControlComponent>;\r\n\tmodel: Type<IControlOption<any>>;\r\n}\r\n\r\nexport interface Controls { [key: string]: ControlInterface; }\r\n\r\nexport const entryComponents = [\r\n\tControlCheckboxComponent,\r\n\tControlEmailComponent,\r\n\tControlGroupComponent,\r\n\tControlInfoComponent,\r\n\tControlMarkdownComponent,\r\n\tControlNumberComponent,\r\n\tControlPasswordComponent,\r\n\tControlRadioComponent,\r\n\tControlSelectComponent,\r\n\tControlTextComponent,\r\n\tControlTextareaComponent,\r\n];\r\n\r\nexport const controls: Controls = {\r\n\t'checkbox': {\r\n\t\tcomponent: ControlCheckboxComponent,\r\n\t\tmodel: ControlCheckbox\r\n\t},\r\n\t'email': {\r\n\t\tcomponent: ControlEmailComponent,\r\n\t\tmodel: ControlEmail\r\n\t},\r\n\t'group': {\r\n\t\tcomponent: ControlGroupComponent,\r\n\t\tmodel: ControlGroup\r\n\t},\r\n\t'info': {\r\n\t\tcomponent: ControlInfoComponent,\r\n\t\tmodel: ControlInfo\r\n\t},\r\n\t'markdown': {\r\n\t\tcomponent: ControlMarkdownComponent,\r\n\t\tmodel: ControlMarkdown\r\n\t},\r\n\t'number': {\r\n\t\tcomponent: ControlNumberComponent,\r\n\t\tmodel: ControlNumber\r\n\t},\r\n\t'password': {\r\n\t\tcomponent: ControlPasswordComponent,\r\n\t\tmodel: ControlPassword\r\n\t},\r\n\t'radio': {\r\n\t\tcomponent: ControlRadioComponent,\r\n\t\tmodel: ControlRadio\r\n\t},\r\n\t'select': {\r\n\t\tcomponent: ControlSelectComponent,\r\n\t\tmodel: ControlSelect\r\n\t},\r\n\t'text': {\r\n\t\tcomponent: ControlTextComponent,\r\n\t\tmodel: ControlText\r\n\t},\r\n\t'textarea': {\r\n\t\tcomponent: ControlTextareaComponent,\r\n\t\tmodel: ControlTextarea\r\n\t},\r\n};\r\n\r\nexport class ControlConfig {\r\n\r\n\tcontrols?: Controls = {};\r\n\r\n\tconstructor(options?: ControlConfig) {\r\n\t\t// console.log('ControlConfig', options);\r\n\t\tif (options) {\r\n\t\t\tObject.assign(this, options);\r\n\t\t\tthis.controls = {\r\n\t\t\t\t...controls,\r\n\t\t\t\t...(options.controls || {})\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const CONTROL_CONFIG = new InjectionToken<ControlConfig>('control.config');\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n\tselector: 'control-module',\r\n\ttemplate: `<span class=\"control-module\">control {{version}}</span>`,\r\n\tstyles: []\r\n})\r\nexport class ControlModuleComponent implements OnInit {\r\n\r\n\tversion: string = '0.0.13';\r\n\r\n\tconstructor() { }\r\n\r\n\tngOnInit() {\r\n\t}\r\n\r\n}\r\n","import { AbstractControl, AsyncValidatorFn, ValidationErrors } from '@angular/forms';\r\nimport { isObservable, Observable, of } from 'rxjs';\r\nimport { catchError, debounceTime, map, take } from 'rxjs/operators';\r\n\r\nconst DEBOUNCE_TIME: number = 250;\r\n\r\nfunction exists$(value: any, exists?: Function): Observable<ValidationErrors | null> {\r\n\tif (typeof exists === 'function') {\r\n\t\tconst oservableOrValue = exists(value);\r\n\t\tif (isObservable(oservableOrValue)) {\r\n\t\t\treturn oservableOrValue.pipe(\r\n\t\t\t\tmap(exists => {\r\n\t\t\t\t\treturn exists ? { exists: true } : null;\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn of(oservableOrValue ? { exists: true } : null);\r\n\t\t}\r\n\t} else {\r\n\t\treturn of(null);\r\n\t}\r\n}\r\n\r\nexport function existsValidator(exists?: Function): AsyncValidatorFn {\r\n\treturn (control: AbstractControl): Observable<ValidationErrors | null> => {\r\n\t\treturn exists$(control.value, exists).pipe(\r\n\t\t\tdebounceTime(DEBOUNCE_TIME),\r\n\t\t\tcatchError((error) => {\r\n\t\t\t\tconsole.log('existsValidator.catchError', error);\r\n\t\t\t\treturn of(null);\r\n\t\t\t}),\r\n\t\t\ttake(1),\r\n\t\t);\r\n\t};\r\n}\r\n","import { AbstractControl, FormGroup, ValidationErrors, ValidatorFn } from '@angular/forms';\r\n\r\nexport function matchValidator(otherKey: string, reverse: boolean = false, group: FormGroup): ValidatorFn {\r\n\treturn (control: AbstractControl): ValidationErrors | null => {\r\n\t\tconst otherControl = group.controls[otherKey];\r\n\t\tconst value = control.value;\r\n\t\t// value not equal\r\n\t\tif (otherControl && value !== otherControl.value && !reverse) {\r\n\t\t\treturn {\r\n\t\t\t\tmatch: true,\r\n\t\t\t};\r\n\t\t}\r\n\t\t// value equal and reverse\r\n\t\tif (otherControl && value === otherControl.value && reverse) {\r\n\t\t\tif (otherControl.errors) {\r\n\t\t\t\tdelete otherControl.errors['match'];\r\n\t\t\t\tif (!Object.keys(otherControl.errors).length) {\r\n\t\t\t\t\totherControl.setErrors(null);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t// value not equal and reverse\r\n\t\tif (otherControl && value !== otherControl.value && reverse) {\r\n\t\t\totherControl.setErrors({\r\n\t\t\t\tmatch: true,\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn null;\r\n\t};\r\n}\r\n","import { Inject, Injectable, Type } from '@angular/core';\r\nimport { AbstractControl, AsyncValidatorFn, FormControl, FormGroup, ValidationErrors, ValidatorFn, Validators } from '@angular/forms';\r\nimport { ControlConfig, CONTROL_CONFIG } from '../config/control.config';\r\nimport { existsValidator } from '../directives/exists.validator';\r\nimport { matchValidator } from '../directives/match.validator';\r\nimport { ControlOption, IControlOption } from './control-option';\r\nimport { ControlComponent } from './control.component';\r\nimport { ControlGroup } from './group/control-group';\r\nimport { ControlInfo } from './info/control-info';\r\n\r\nexport function noopValidator(): ValidatorFn {\r\n\treturn (control: AbstractControl): ValidationErrors | null => {\r\n\t\tconsole.log(control);\r\n\t\treturn null;\r\n\t};\r\n}\r\n\r\n@Injectable({\r\n\tprovidedIn: 'root'\r\n})\r\nexport class ControlService {\r\n\r\n\tpublic options: ControlConfig;\r\n\r\n\tconstructor(\r\n\t\t@Inject(CONTROL_CONFIG) options: ControlConfig\r\n\t) {\r\n\t\t// console.log('ControlService', options);\r\n\t\tthis.options = new ControlConfig(options || {});\r\n\t}\r\n\r\n\ttoFormGroup(options: IControlOption<any>[]): FormGroup {\r\n\t\tconst controls: { [key: string]: FormControl | FormGroup } = {};\r\n\t\toptions.forEach((option: ControlOption<any>) => {\r\n\t\t\t// group[x.key] = new FormControl(x.value, this.getValidators(x, group));\r\n\t\t\tif (option instanceof ControlGroup) {\r\n\t\t\t\tconst group: FormGroup = this.toFormGroup(option.options);\r\n\t\t\t\tcontrols[option.key] = group;\r\n\t\t\t} else if (!(option instanceof ControlInfo)) {\r\n\t\t\t\tconst validators = this.getValidators(option);\r\n\t\t\t\tconst asyncValidators = this.getAsyncValidators(option);\r\n\t\t\t\tconst control: FormControl = new FormControl(option.value, {\r\n\t\t\t\t\tvalidators: validators.length ? validators : undefined,\r\n\t\t\t\t\tasyncValidators: asyncValidators.length ? asyncValidators : undefined,\r\n\t\t\t\t});\r\n\t\t\t\tif (option.disabled) {\r\n\t\t\t\t\tcontrol.disable();\r\n\t\t\t\t}\r\n\t\t\t\tcontrols[option.key] = control;\r\n\t\t\t\t// control.updateValueAndValidity();\r\n\t\t\t\t// x.setControl(control); // !!!\r\n\t\t\t}\r\n\t\t});\r\n\t\tconst group: FormGroup = new FormGroup(controls);\r\n\t\tgroup.markAsDirty();\r\n\t\t// console.log(group);\r\n\t\toptions.forEach((option: ControlOption<any>) => {\r\n\t\t\tif (!(option instanceof ControlInfo)) {\r\n\t\t\t\tconst groupValidators = this.getGroupValidators(option, group);\r\n\t\t\t\tif (groupValidators.length) {\r\n\t\t\t\t\t// console.log(validators);\r\n\t\t\t\t\tgroup.controls[option.key].setValidators(groupValidators);\r\n\t\t\t\t\t// group.controls[option.key].updateValueAndValidity();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn group;\r\n\t}\r\n\r\n\tgetValidators(option: IControlOption<any>): ValidatorFn[] {\r\n\t\tconst validators: ValidatorFn[] = [];\r\n\t\tif (option.min) {\r\n\t\t\tvalidators.push(Validators.min(option.min));\r\n\t\t}\r\n\t\tif (option.max) {\r\n\t\t\tvalidators.push(Validators.max(option.max));\r\n\t\t}\r\n\t\tif (option.required) {\r\n\t\t\tvalidators.push(Validators.required);\r\n\t\t}\r\n\t\tif (option.requiredTrue) {\r\n\t\t\tvalidators.push(Validators.requiredTrue);\r\n\t\t}\r\n\t\tif (option.minlength) {\r\n\t\t\tvalidators.push(Validators.minLength(option.minlength));\r\n\t\t}\r\n\t\tif (option.maxlength) {\r\n\t\t\tvalidators.push(Validators.maxLength(option.maxlength));\r\n\t\t}\r\n\t\tif (option.pattern) {\r\n\t\t\tvalidators.push(Validators.pattern(option.pattern));\r\n\t\t}\r\n\t\tif (option.schema === 'email') {\r\n\t\t\tvalidators.push(Validators.email);\r\n\t\t}\r\n\t\treturn validators;\r\n\t}\r\n\r\n\tgetAsyncValidators(option: IControlOption<any>): AsyncValidatorFn[] {\r\n\t\tconst validators: AsyncValidatorFn[] = [];\r\n\t\tif (option.exists) {\r\n\t\t\tvalidators.push(existsValidator(option.exists));\r\n\t\t}\r\n\t\treturn validators;\r\n\t}\r\n\r\n\tgetGroupValidators(option: IControlOption<any>, group: FormGroup): ValidatorFn[] {\r\n\t\tconst validators: ValidatorFn[] = [];\r\n\t\tif (option.match) {\r\n\t\t\tvalidators.push(matchValidator(option.match, option.reverse, group));\r\n\t\t}\r\n\t\treturn validators;\r\n\t}\r\n\r\n\tresolve(option: IControlOption<any>): Type<ControlComponent> {\r\n\t\tlet component: Type<ControlComponent>;\r\n\t\tif (option) {\r\n\t\t\tcomponent = this.options.controls[option.schema].component || ControlComponent;\r\n\t\t} else {\r\n\t\t\tcomponent = ControlComponent;\r\n\t\t}\r\n\t\treturn component;\r\n\t}\r\n\r\n}\r\n","import { NgForOfContext } from '@angular/common';\r\nimport { AfterViewInit, Component, ComponentFactory, ComponentFactoryResolver, ComponentRef, ContentChild, Input, OnDestroy, OnInit, TemplateRef, Type, ViewChild, ViewContainerRef } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { IControlOption } from './control-option';\r\nimport { ControlComponent } from './control.component';\r\nimport { ControlService } from './control.service';\r\n\r\n@Component({\r\n\tselector: 'control-outlet',\r\n\ttemplateUrl: 'control-outlet.component.html',\r\n})\r\nexport class ControlOutletComponent implements OnInit, OnDestroy, AfterViewInit {\r\n\r\n\t@ContentChild('inputRef') inputRef: TemplateRef<NgForOfContext<ControlComponent>>;\r\n\t@ContentChild('errorRef') errorRef: TemplateRef<NgForOfContext<ControlComponent>>;\r\n\t@ContentChild('labelRef') labelRef: TemplateRef<NgForOfContext<ControlComponent>>;\r\n\t@ContentChild('descriptionRef') descriptionRef: TemplateRef<NgForOfContext<ControlComponent>>;\r\n\t@ViewChild('descriptionDef') descriptionDef: TemplateRef<NgForOfContext<ControlComponent>>;\r\n\t@ViewChild('labelDef') labelDef: TemplateRef<NgForOfContext<ControlComponent>>;\r\n\t@ViewChild('outlet', { read: ViewContainerRef }) viewContainerRef: ViewContainerRef;\r\n\r\n\t@Input() option: IControlOption<any>;\r\n\t@Input() form: FormGroup;\r\n\r\n\tprivate componentRef: ComponentRef<ControlComponent>;\r\n\r\n\tget context(): ControlOutletComponent {\r\n\t\treturn this;\r\n\t}\r\n\r\n\tget classes(): { [key: string]: boolean } {\r\n\t\t// console.log('control', this.option.key, this.form.controls);\r\n\t\treturn this.componentRef ? this.componentRef.instance.classes : null;\r\n\t}\r\n\r\n\tget control(): AbstractControl {\r\n\t\t// console.log('control', this.option.key, this.form.controls);\r\n\t\treturn this.componentRef ? this.componentRef.instance.control : null;\r\n\t}\r\n\r\n\tconstructor(\r\n\t\tprivate componentFactoryResolver: ComponentFactoryResolver,\r\n\t\tprivate controlService: ControlService,\r\n\t) { }\r\n\r\n\tngAfterViewInit() {\r\n\t}\r\n\r\n\tngOnInit() {\r\n\t\tconst component: Type<ControlComponent> = this.controlService.resolve(this.option);\r\n\t\tconst factory: ComponentFactory<ControlComponent> = this.componentFactoryResolver.resolveComponentFactory(component);\r\n\t\tthis.viewContainerRef.clear();\r\n\t\tconst componentRef = this.viewContainerRef.createComponent(factory);\r\n\t\tconst instance = componentRef.instance;\r\n\t\tinstance.option = this.option;\r\n\t\tinstance.form = this.form;\r\n\t\tinstance.inputRef = this.inputRef;\r\n\t\tinstance.errorRef = this.errorRef;\r\n\t\t// instance.labelRef = this.labelRef || this.labelDef;\r\n\t\tif (typeof instance['ControlInit'] === 'function') {\r\n\t\t\tinstance['ControlInit']();\r\n\t\t}\r\n\t\tthis.componentRef = componentRef;\r\n\t}\r\n\r\n\tngOnDestroy() {\r\n\t\tthis.componentRef.destroy();\r\n\t}\r\n\r\n}\r\n","\r\nimport { Directive, ElementRef, forwardRef, Renderer2 } from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\n\r\nexport const CONTROL_VALUE_ACCESSOR: any = {\r\n\tprovide: NG_VALUE_ACCESSOR,\r\n\t// tslint:disable-next-line:no-use-before-declare\r\n\tuseExisting: forwardRef(() => ControlAccessor),\r\n\tmulti: true\r\n};\r\n\r\n@Directive({\r\n\tselector:\r\n\t\t'input[designr-accessor][formControlName],input[designr-accessor][formControl],input[designr-accessor][ngModel]',\r\n\t// tslint:disable-next-line:use-host-property-decorator\r\n\thost: {\r\n\t\t'(change)': 'onChange($event.target.value)',\r\n\t\t'(input)': 'onChange($event.target.value)',\r\n\t\t'(blur)': 'onTouched()'\r\n\t},\r\n\tproviders: [CONTROL_VALUE_ACCESSOR]\r\n})\r\n// tslint:disable-next-line:directive-class-suffix\r\nexport class ControlAccessor<T> implements ControlValueAccessor {\r\n\r\n\tconstructor(\r\n\t\tprotected renderer: Renderer2,\r\n\t\tprotected element: ElementRef\r\n\t) { }\r\n\r\n\tprotected formatValue(value: T): string {\r\n\t\treturn value.toString();\r\n\t}\r\n\r\n\tprotected parseValue(value: any): T {\r\n\t\treturn value && value !== '' ? value : null;\r\n\t}\r\n\r\n\tonChange = (value: any) => { };\r\n\tonTouched = () => { };\r\n\r\n\twriteValue(value: T): void {\r\n\t\tconst formattedValue = this.formatValue(value);\r\n\t\tthis.renderer.setProperty(this.element.nativeElement, 'value', formattedValue);\r\n\t}\r\n\r\n\tregisterOnChange(callback: (x: T | null) => void): void {\r\n\t\tthis.onChange = (value: any) => {\r\n\t\t\tconst parsedValue = this.parseValue(value);\r\n\t\t\tconst formattedValue = this.formatValue(parsedValue);\r\n\t\t\tthis.renderer.setProperty(this.element.nativeElement, 'value', formattedValue);\r\n\t\t\tcallback(parsedValue);\r\n\t\t};\r\n\t}\r\n\r\n\tregisterOnTouched(callback: () => void): void {\r\n\t\tthis.onTouched = callback;\r\n\t}\r\n\r\n\tsetDisabledState(isDisabled: boolean): void {\r\n\t\tthis.renderer.setProperty(this.element.nativeElement, 'disabled', isDisabled);\r\n\t}\r\n\r\n}\r\n","\r\nimport { Component, Input } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { DisposableComponent } from '@designr/core';\r\nimport { IControlOption } from './control-option';\r\n\r\n@Component({\r\n\tselector: 'controls-component',\r\n\ttemplateUrl: 'controls.component.html',\r\n})\r\nexport class ControlsComponent extends DisposableComponent {\r\n\t@Input() options: IControlOption<any>[];\r\n\t@Input() form: FormGroup;\r\n}\r\n","import { Directive, forwardRef, Input } from '@angular/core';\r\nimport { AbstractControl, AsyncValidator, NG_ASYNC_VALIDATORS, ValidationErrors } from '@angular/forms';\r\nimport { isObservable, Observable, of } from 'rxjs';\r\nimport { catchError, debounceTime, map, take } from 'rxjs/operators';\r\n\r\nconst DEBOUNCE_TIME: number = 250;\r\n\r\n@Directive({\r\n\tselector: '[exists][formControlName],[exists][formControl],[exists][ngModel]',\r\n\tproviders: [\r\n\t\t{ provide: NG_ASYNC_VALIDATORS, useExisting: forwardRef(() => ExistsValidator), multi: true },\r\n\t]\r\n})\r\nexport class ExistsValidator implements AsyncValidator {\r\n\r\n\t@Input() exists: Function;\r\n\r\n\texists$(value: string): Observable<ValidationErrors | null> {\r\n\t\tif (typeof this.exists === 'function') {\r\n\t\t\tconst oservableOrValue = this.exists(value);\r\n\t\t\tif (isObservable(oservableOrValue)) {\r\n\t\t\t\treturn oservableOrValue.pipe(\r\n\t\t\t\t\tmap(exists => {\r\n\t\t\t\t\t\treturn exists ? { exists: true } : null;\r\n\t\t\t\t\t})\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\treturn of(oservableOrValue ? { exists: true } : null);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn of(null);\r\n\t\t}\r\n\t}\r\n\r\n\tvalidate(control: AbstractControl): Promise<ValidationErrors | null> | Observable<ValidationErrors | null> {\r\n\t\treturn this.exists$(control.value).pipe(\r\n\t\t\tdebounceTime(DEBOUNCE_TIME),\r\n\t\t\tcatchError((response) => {\r\n\t\t\t\tconsole.log('ExistsValidator.debounced$.catchError', response);\r\n\t\t\t\treturn of(null);\r\n\t\t\t}),\r\n\t\t\ttake(1),\r\n\t\t);\r\n\t}\r\n\r\n}\r\n","import { Attribute, Directive, forwardRef } from '@angular/core';\r\nimport { AbstractControl, NG_VALIDATORS, Validator } from '@angular/forms';\r\n\r\n@Directive({\r\n\tselector: '[match][formControlName],[match][formControl],[match][ngModel]',\r\n\tproviders: [\r\n\t\t{ provide: NG_VALIDATORS, useExisting: forwardRef(() => MatchValidator), multi: true }\r\n\t]\r\n})\r\nexport class MatchValidator implements Validator {\r\n\r\n\tconstructor(\r\n\t\t@Attribute('match') public match: string,\r\n\t\t@Attribute('reverse') public reverse: string\r\n\t) { }\r\n\r\n\tprivate get isReverse() {\r\n\t\tif (!this.reverse) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn this.reverse === 'true' ? true : false;\r\n\t}\r\n\r\n\tvalidate(control: AbstractControl): { [key: string]: any } {\r\n\t\t// self value\r\n\t\tconst value = control.value;\r\n\t\t// control value\r\n\t\tconst input = control.root.get(this.match);\r\n\t\t// value not equal\r\n\t\tif (input && value !== input.value && !this.isReverse) {\r\n\t\t\treturn {\r\n\t\t\t\tmatch: true,\r\n\t\t\t};\r\n\t\t}\r\n\t\t// value equal and reverse\r\n\t\tif (input && value === input.value && this.isReverse) {\r\n\t\t\tdelete input.errors['match'];\r\n\t\t\tif (!Object.keys(input.errors).length) {\r\n\t\t\t\tinput.setErrors(null);\r\n\t\t\t}\r\n\t\t}\r\n\t\t// value not equal and reverse\r\n\t\tif (input && value !== input.value && this.isReverse) {\r\n\t\t\tinput.setErrors({\r\n\t\t\t\tmatch: true,\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n}\r\n","import { Directive, EventEmitter, HostListener, Output } from '@angular/core';\r\n\r\n@Directive({\r\n\tselector: '[ngModel][uppercase]'\r\n})\r\nexport class UppercaseDirective {\r\n\r\n\t@Output() ngModelChange: EventEmitter<any> = new EventEmitter();\r\n\tvalue: any;\r\n\r\n\t@HostListener('input', ['$event']) onInputChange($event) {\r\n\t\tthis.value = $event.target.value.toUpperCase();\r\n\t\tthis.ngModelChange.emit(this.value);\r\n\t}\r\n\r\n}\r\n","import { Injectable, Type } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { ControlInterface } from '../config/control.config';\r\nimport { ControlOption, IControlOption } from '../control/control-option';\r\nimport { ControlService } from '../control/control.service';\r\nimport { ControlGroup } from '../control/group/control-group';\r\n\r\n@Injectable({\r\n\tprovidedIn: 'root'\r\n})\r\nexport class FormService {\r\n\r\n\tconstructor(\r\n\t\tprotected controlService: ControlService,\r\n\t) { }\r\n\r\n\tgetOptions(data: IControlOption<any>[]): ControlOption<any>[] {\r\n\t\tconst options: ControlOption<any>[] = data.map((option: IControlOption<any>) => {\r\n\t\t\tconst control: ControlInterface = this.controlService.options.controls[option.schema];\r\n\t\t\tif (control) {\r\n\t\t\t\tconst optionModel: Type<ControlOption<any>> = control.model;\r\n\t\t\t\tconst optionModelInstance: ControlOption<any> = new optionModel(option);\r\n\t\t\t\tif (optionModelInstance instanceof ControlGroup) {\r\n\t\t\t\t\tconst options = this.getOptions(optionModelInstance.options);\r\n\t\t\t\t\toptions.sort((a, b) => a.order - b.order);\r\n\t\t\t\t\toptionModelInstance.options = options;\r\n\t\t\t\t}\r\n\t\t\t\treturn optionModelInstance;\r\n\t\t\t} else {\r\n\t\t\t\tconsole.error(`missing option for key ${option.schema}`);\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t}).filter(x => x);\r\n\t\toptions.sort((a, b) => a.order - b.order);\r\n\t\treturn options;\r\n\t}\r\n\r\n\tgetFormGroup(options: ControlOption<any>[]): FormGroup {\r\n\t\treturn this.controlService.toFormGroup(options);\r\n\t}\r\n\r\n\tgetFormGroupFromOptions(options: IControlOption<any>[]): FormGroup {\r\n\t\treturn this.getFormGroup(this.getOptions(options));\r\n\t}\r\n\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { ModuleWithProviders, NgModule, Optional, SkipSelf } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { CoreModule } from '@designr/core';\r\nimport { ControlConfig, CONTROL_CONFIG, entryComponents } from './config/control.config';\r\nimport { ControlModuleComponent } from './control-module.component';\r\nimport { ControlOutletComponent } from './control/control-outlet.component';\r\nimport { ControlAccessor } from './control/control.accessor';\r\nimport { ControlComponent } from './control/control.component';\r\nimport { ControlService } from './control/control.service';\r\nimport { ControlsComponent } from './control/controls.component';\r\nimport { ExistsValidator } from './directives/exists.directive';\r\nimport { MatchValidator } from './directives/match.directive';\r\nimport { UppercaseDirective } from './directives/uppercase.directive';\r\nimport { FormService } from './form/form.service';\r\n\r\nconst services = [\r\n\tControlService,\r\n\tFormService,\r\n];\r\n\r\nconst components = [\r\n\tControlsComponent,\r\n\tControlModuleComponent,\r\n\tControlOutletComponent,\r\n\tControlComponent,\r\n\t...entryComponents,\r\n];\r\n\r\nconst directives = [\r\n\tUppercaseDirective,\r\n\tControlAccessor,\r\n];\r\n\r\nconst pipes = [\r\n];\r\n\r\nconst validators = [\r\n\tExistsValidator,\r\n\tMatchValidator,\r\n];\r\n\r\nconst guards = [\r\n];\r\n\r\n@NgModule({\r\n\timports: [\r\n\t\tCommonModule,\r\n\t\tHttpClientModule,\r\n\t\tFormsModule,\r\n\t\tReactiveFormsModule,\r\n\t\tCoreModule,\r\n\t],\r\n\tproviders: [\r\n\t\t...services,\r\n\t\t...pipes,\r\n\t\t...validators,\r\n\t],\r\n\tdeclarations: [\r\n\t\t...components,\r\n\t\t...directives,\r\n\t\t...pipes,\r\n\t\t...validators,\r\n\t],\r\n\tentryComponents: [\r\n\t\t...entryComponents,\r\n\t],\r\n\texports: [\r\n\t\t...components,\r\n\t\t...directives,\r\n\t\t...pipes,\r\n\t\t...validators,\r\n\t],\r\n})\r\n\r\nexport class ControlModule {\r\n\r\n\tconstructor(\r\n\t\t@Optional() @SkipSelf() parentModule: ControlModule\r\n\t) {\r\n\t\t/*\r\n\t\tif (parentModule) {\r\n\t\t\tthrow new Error('ControlModule is already loaded. Import it in the AppModule only');\r\n\t\t}\r\n\t\t*/\r\n\t}\r\n\r\n\tpublic static forRoot(\r\n\t\tconfig?: ControlConfig,\r\n\t): ModuleWithProviders {\r\n\t\treturn {\r\n\t\t\tngModule: ControlModule,\r\n\t\t\tproviders: [{\r\n\t\t\t\tprovide: CONTROL_CONFIG, useValue: config\r\n\t\t\t}]\r\n\t\t};\r\n\t}\r\n\r\n}\r\n"],"names":["tslib_1.__extends","controls","DEBOUNCE_TIME"],"mappings":"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"}
