{"version":3,"file":"designr-page.js.map","sources":["ng://@designr/page/lib/config/page.config.ts","ng://@designr/page/lib/config/config.service.ts","ng://@designr/page/lib/layout/layout.ts","ng://@designr/page/lib/layout/layout.component.ts","ng://@designr/page/lib/page/page.ts","ng://@designr/page/lib/layout/use-layout.directive.ts","ng://@designr/page/lib/page-module.component.ts","ng://@designr/page/lib/page/page.component.ts","ng://@designr/page/lib/page/page-not-found.component.ts","ng://@designr/page/lib/page/link.service.ts","ng://@designr/page/lib/page/page.service.ts","ng://@designr/page/lib/page/page-outlet.component.ts","ng://@designr/page/lib/page/page-resolver.ts","ng://@designr/page/lib/page/page-resolver.service.ts","ng://@designr/page/lib/page/page.guard.ts","ng://@designr/page/lib/page/static.guard.ts","ng://@designr/page/lib/page.routing.ts","ng://@designr/page/lib/page.module.ts"],"sourcesContent":["import { InjectionToken, Type } from '@angular/core';\r\nimport { Layouts } from '../layout/layout';\r\nimport { LayoutComponent } from '../layout/layout.component';\r\nimport { Pages } from '../page/page';\r\nimport { PageComponent } from '../page/page.component';\r\n\r\nexport class PageConfig {\r\n\tdefaultPage?: Type<PageComponent>;\r\n\tnotFoundPage?: Type<PageComponent>;\r\n\tdefaultLayout?: Type<LayoutComponent>;\r\n\tpages?: Pages = {};\r\n\tlayouts?: Layouts = {};\r\n\r\n\tconstructor(options?: PageConfig) {\r\n\t\t// console.log('PageConfig', options);\r\n\t\tif (options) {\r\n\t\t\tthis.layouts = options.layouts || {};\r\n\t\t\tthis.defaultLayout = options.defaultLayout;\r\n\t\t\tthis.pages = options.pages || {};\r\n\t\t\tthis.defaultPage = options.defaultPage;\r\n\t\t\tthis.notFoundPage = options.notFoundPage;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const PAGE_CONFIG = new InjectionToken<PageConfig>('page.config');\r\n","import { Inject, Injectable } from '@angular/core';\r\nimport { PageConfig, PAGE_CONFIG } from '../config/page.config';\r\n\r\n@Injectable({\r\n\tprovidedIn: 'root'\r\n})\r\nexport class ConfigService {\r\n\r\n\tpublic options: PageConfig;\r\n\r\n\tconstructor(\r\n\t\t@Inject(PAGE_CONFIG) options: PageConfig\r\n\t) {\r\n\t\tthis.options = new PageConfig(options || {});\r\n\t}\r\n\r\n}\r\n","import { Input, TemplateRef, Type } from '@angular/core';\r\nimport { Page } from '../page/page';\r\n\r\nexport class ILayoutComponent {\r\n\t@Input() template: TemplateRef<any>;\r\n\tpage?: Page;\r\n}\r\n\r\nexport interface Layouts { [key: string]: Type<ILayoutComponent>; }\r\n","import { Component, Input, TemplateRef } from '@angular/core';\r\nimport { Page } from '../page/page';\r\nimport { ILayoutComponent } from './layout';\r\n\r\n@Component({\r\n\tselector: 'layout-component',\r\n\ttemplate: `<div [ngClass]=\"page?.component\">\r\n\t<ng-container *ngTemplateOutlet=\"template\"></ng-container>\r\n</div>`\r\n})\r\nexport class LayoutComponent implements ILayoutComponent {\r\n\t@Input() template: TemplateRef<any>;\r\n\tpage?: Page;\r\n}\r\n","import { Type } from '@angular/core';\r\nimport { Document, Feature, Image, Taxonomy } from '@designr/core';\r\nimport { PageComponent } from './page.component';\r\n\r\nexport interface Pages { [key: string]: Type<PageComponent>; }\r\n\r\nexport class PageMeta {\r\n\tappId?: string;\r\n\tauthor?: string;\r\n\tcanonical?: string;\r\n\tdescription?: string;\r\n\tkeywords?: string;\r\n\tlocale?: string;\r\n\trobots?: string;\r\n\ttitle?: string;\r\n\ttype?: string;\r\n}\r\n\r\nexport class PageIndex implements Document {\r\n\tid: number | string;\r\n\tslug?: string;\r\n\turl?: string;\r\n\tname?: string;\r\n\ttitle?: string;\r\n\tabstract?: string;\r\n\timages?: Image[];\r\n\tcomponent?: number | string;\r\n\ttype?: number | string;\r\n\trelationType?: number | string;\r\n\r\n\tconstructor(options?: PageIndex) {\r\n\t\tif (options) {\r\n\t\t\tObject.assign(this, options);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport class PageRelation implements Document {\r\n\tid: number | string;\r\n\tpage: Page;\r\n\ttype?: number | string;\r\n}\r\n\r\nexport class Page implements Document {\r\n\tid: number | string;\r\n\tslug?: string;\r\n\turl?: string;\r\n\tname?: string;\r\n\ttitle?: string;\r\n\tabstract?: string;\r\n\tdescription?: string;\r\n\tfeatures?: Feature[];\r\n\tmeta?: PageMeta = {};\r\n\timages?: Image[];\r\n\trelated?: PageIndex[];\r\n\ttaxonomies?: Taxonomy[];\r\n\ttype?: number | string;\r\n\tcomponent?: number | string;\r\n\tactive?: boolean;\r\n\r\n\tconstructor(options?: Page) {\r\n\t\tif (options) {\r\n\t\t\tObject.assign(this, options);\r\n\t\t\tif (options.related) {\r\n\t\t\t\tconst related: PageIndex[] = options.related.map((x: PageRelation) => {\r\n\t\t\t\t\t// const item = new PageIndex(x.page);\r\n\t\t\t\t\tconst item = new PageIndex(x);\r\n\t\t\t\t\titem.relationType = x.type;\r\n\t\t\t\t\treturn item;\r\n\t\t\t\t});\r\n\t\t\t\tthis.related = related;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tgetFeature?(id: number): Feature {\r\n\t\treturn this.features.find(x => x.id === id) || null;\r\n\t}\r\n\r\n\tgetFeatures?(type: number, n: number[]): Feature[] {\r\n\t\treturn this.features ? this.features.filter((x: Feature, i: number) => (\r\n\t\t\tn.indexOf(Number(x.id)) !== -1 && x.type === type\r\n\t\t)).sort((a: Feature, b: Feature) => a.type - b.type) : [];\r\n\t}\r\n\r\n\tgetFeaturesByTypes?(type: number[]): Feature[] {\r\n\t\treturn this.features ? this.features.filter((x: Feature) => (\r\n\t\t\ttype.indexOf(Number(x.type)) !== -1\r\n\t\t)) : [];\r\n\t}\r\n\r\n\tgetGroupedFeaturesByTypes?(type: number[]): any {\r\n\t\tconst groups = {};\r\n\t\ttype.forEach(type => {\r\n\t\t\tconst group = groups[type] || { features: [] };\r\n\t\t\tif (this.features) {\r\n\t\t\t\tthis.features.forEach((x: Feature) => {\r\n\t\t\t\t\tif (Number(x.type) === type) {\r\n\t\t\t\t\t\tgroup.features.push(x);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tgroups[type] = group;\r\n\t\t});\r\n\t\t/*\r\n\t\tif (this.features) {\r\n\t\t\tthis.features.forEach((x: Feature) => {\r\n\t\t\t\tif (type.indexOf(Number(x.type)) !== -1) {\r\n\t\t\t\t\tconst group = groups[x.type] || { features: [] };\r\n\t\t\t\t\tgroup.features.push(x);\r\n\t\t\t\t\tgroups[x.type] = group;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\t*/\r\n\t\treturn groups;\r\n\t}\r\n\r\n\r\n}\r\n","import { ComponentFactoryResolver, ComponentRef, Directive, Input, OnDestroy, OnInit, TemplateRef, Type, ViewContainerRef } from '@angular/core';\r\nimport { ConfigService } from '../config/config.service';\r\nimport { Page } from '../page/page';\r\nimport { ILayoutComponent } from './layout';\r\nimport { LayoutComponent } from './layout.component';\r\n\r\n@Directive({\r\n\tselector: '[useLayout]'\r\n})\r\nexport class UseLayoutDirective implements OnInit, OnDestroy {\r\n\r\n\tprivate container: ComponentRef<ILayoutComponent>;\r\n\t@Input('useLayout') layoutKey?: string;\r\n\t@Input() page?: Page;\r\n\r\n\tconstructor(\r\n\t\tprivate templateRef: TemplateRef<any>,\r\n\t\tprivate viewContainerRef: ViewContainerRef,\r\n\t\tprivate componentFactoryResolver: ComponentFactoryResolver,\r\n\t\tprivate configService: ConfigService,\r\n\t) { }\r\n\r\n\tngOnInit() {\r\n\t\tconst options = this.configService.options;\r\n\t\tconst component: Type<ILayoutComponent> = options.layouts[this.layoutKey] || options.defaultLayout || LayoutComponent;\r\n\t\tconst containerFactory = this.componentFactoryResolver.resolveComponentFactory(component);\r\n\t\tthis.container = this.viewContainerRef.createComponent(containerFactory);\r\n\t\tthis.container.instance.template = this.templateRef;\r\n\t\tthis.container.instance.page = this.page;\r\n\t}\r\n\r\n\tngOnDestroy() {\r\n\t\tif (this.container) {\r\n\t\t\tthis.container.destroy();\r\n\t\t\tthis.container = null;\r\n\t\t}\r\n\t}\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n\tselector: 'page-module',\r\n\ttemplate: `<span class=\"page-module\">page {{version}}</span>`,\r\n\tstyles: []\r\n})\r\nexport class PageModuleComponent implements OnInit {\r\n\r\n\tversion: string = '0.0.13';\r\n\r\n\tconstructor() { }\r\n\r\n\tngOnInit() {\r\n\t}\r\n\r\n}\r\n","\r\nimport { isPlatformBrowser } from '@angular/common';\r\nimport { Component, Injector, Input, PLATFORM_ID } from '@angular/core';\r\nimport { NavigationEnd, Params, Router } from '@angular/router';\r\nimport { DisposableComponent, RouteService } from '@designr/core';\r\nimport { Observable } from 'rxjs';\r\nimport { Page } from './page';\r\n\r\nexport interface PageInit {\r\n\tPageInit(): void;\r\n}\r\n\r\n@Component({\r\n\tselector: 'core-page',\r\n\ttemplate: `<div class=\"page\">Page not found!</div>`,\r\n})\r\nexport class PageComponent extends DisposableComponent {\r\n\r\n\t@Input() page: Page;\r\n\t@Input() params: Observable<Params>;\r\n\t@Input() queryParams: Observable<Params>;\r\n\r\n\tget platformId(): string {\r\n\t\treturn this.injector.get(PLATFORM_ID) as string;\r\n\t}\r\n\r\n\tget routeService(): RouteService {\r\n\t\treturn this.injector.get(RouteService);\r\n\t}\r\n\r\n\tget router(): Router {\r\n\t\treturn this.injector.get(Router);\r\n\t}\r\n\r\n\tconstructor(\r\n\t\tprotected injector: Injector,\r\n\t) {\r\n\t\tsuper();\r\n\t\tthis.scrollToTop();\r\n\t}\r\n\r\n\t// !!! Scroll to top on page change\r\n\tprivate scrollToTop(): void {\r\n\t\t// !!! PLATFORM_ID dependancy manually activated\r\n\t\t// const platformId: string = RouteService.injector.get(PLATFORM_ID) as string;\r\n\t\tif (isPlatformBrowser(this.platformId)) {\r\n\t\t\t// !!! Router dependancy manually activated\r\n\t\t\t// const router = RouteService.injector.get(Router);\r\n\t\t\tthis.router.events.subscribe((e) => {\r\n\t\t\t\tif (!(e instanceof NavigationEnd)) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\twindow.scrollTo(0, 0);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tgetId(): number | string {\r\n\t\treturn this.routeService.getId() || (this.page ? this.page.id : 0);\r\n\t}\r\n\r\n\tgetSlug(): string {\r\n\t\treturn this.routeService.getSlug() || (this.page ? this.page.slug : '');\r\n\t}\r\n\r\n}\r\n","import { Component, Injector, ViewEncapsulation } from '@angular/core';\r\nimport { PageComponent } from './page.component';\r\n\r\n@Component({\r\n\tselector: 'page-not-found-component',\r\n\ttemplate: `<div class=\"page\">Page <span>{{url}}</span> not found</div>`,\r\n\tencapsulation: ViewEncapsulation.Emulated,\r\n})\r\n\r\nexport class PageNotFoundComponent extends PageComponent {\r\n\r\n\tpublic url: string;\r\n\r\n\tconstructor(\r\n\t\tprotected injector: Injector\r\n\t) {\r\n\t\tsuper(injector);\r\n\t\tthis.url = this.router.url;\r\n\t}\r\n\r\n}\r\n","import { DOCUMENT } from '@angular/common';\r\nimport { Inject, Injectable } from '@angular/core';\r\n\r\nexport class LinkDefinition {\r\n\thref?: string;\r\n\tid?: string;\r\n\trel?: string;\r\n}\r\n\r\n@Injectable({\r\n\tprovidedIn: 'root',\r\n})\r\nexport class LinkService {\r\n\r\n\tconstructor(\r\n\t\t@Inject(DOCUMENT) private doc: any,\r\n\t) { }\r\n\r\n\taddTag(definition: LinkDefinition) {\r\n\t\tconst element = this.doc.createElement(`link`);\r\n\t\tthis.updateElementDefinition(element, definition);\r\n\t\tthis.doc.head.appendChild(element);\r\n\t}\r\n\r\n\tgetTag(selector: string) {\r\n\t\tconst element = this.doc.querySelector(`link${selector}`);\r\n\t\treturn element;\r\n\t}\r\n\r\n\tupdateTag(selector: string, definition: LinkDefinition) {\r\n\t\tconst element = this.doc.querySelector(`link${selector}`);\r\n\t\tthis.updateElementDefinition(element, definition);\r\n\t}\r\n\r\n\tremoveTag(selector: string) {\r\n\t\tconst element = this.doc.querySelector(`link${selector}`);\r\n\t\telement.remove();\r\n\t}\r\n\r\n\tupdateElementDefinition(element: HTMLLinkElement, definition: LinkDefinition) {\r\n\t\tthis.updateElementAttribute(element, 'href', definition.href);\r\n\t\tthis.updateElementAttribute(element, 'id', definition.id);\r\n\t\tthis.updateElementAttribute(element, 'rel', definition.rel);\r\n\t}\r\n\r\n\tupdateElementAttribute(element: HTMLLinkElement, attribute: string, value: any) {\r\n\t\tif (value) {\r\n\t\t\telement.setAttribute(attribute, value);\r\n\t\t} else {\r\n\t\t\telement.removeAttribute(attribute);\r\n\t\t}\r\n\t}\r\n\r\n}\r\n","import { Injectable, Injector } from '@angular/core';\r\nimport { Meta, MetaDefinition, Title } from '@angular/platform-browser';\r\nimport { EntityService, HttpStatusCodeService, Image, ImageType } from '@designr/core';\r\nimport { Observable, of } from 'rxjs';\r\nimport { catchError, map } from 'rxjs/operators';\r\nimport { LinkDefinition, LinkService } from './link.service';\r\nimport { Page } from './page';\r\n\r\n@Injectable({\r\n\tprovidedIn: 'root'\r\n})\r\nexport class PageService extends EntityService<Page> {\r\n\r\n\tpublic page: Page;\r\n\r\n\tget collection(): string {\r\n\t\treturn '/api/page';\r\n\t}\r\n\r\n\tconstructor(\r\n\t\tprotected injector: Injector,\r\n\t\tprivate titleService: Title,\r\n\t\tprivate metaService: Meta,\r\n\t\tprivate linkService: LinkService,\r\n\t\tprivate statusCodeService: HttpStatusCodeService,\r\n\t) {\r\n\t\tsuper(injector);\r\n\t\t// console.log('PageService', options);\r\n\t}\r\n\r\n\tgetStatePageBySlug(slug: string): Observable<Page> {\r\n\t\tslug = slug.split('?')[0];\r\n\t\tif (slug.indexOf('/') === 0) {\r\n\t\t\tslug = slug.substr(1);\r\n\t\t}\r\n\t\treturn this.stateGet(`?slug=/${slug}`).pipe(\r\n\t\t\tmap(x => {\r\n\t\t\t\tx = new Page(Array.isArray(x) ? x.find(x => x.slug === `/${slug}`) : x);\r\n\t\t\t\t// console.log('PageService.getStatePageBySlug', x);\r\n\t\t\t\treturn x;\r\n\t\t\t}),\r\n\t\t\tcatchError(error => {\r\n\t\t\t\t// console.log('getStatePageBySlug.error', error);\r\n\t\t\t\tthis.statusCodeService.setStatusCode(error.status, error.error ? error.error.redirectUrl : null);\r\n\t\t\t\treturn of(null);\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tgetStatePageById(id: number | string): Observable<Page> {\r\n\t\treturn this.stateGet(`/${id}`).pipe(\r\n\t\t\t// tap(x => console.log('PageService.getPageById', id, x)),\r\n\t\t\tmap(x => new Page(x)),\r\n\t\t\tcatchError(error => {\r\n\t\t\t\tthis.statusCodeService.setStatusCode(error.status, error.error ? error.error.redirectUrl : null);\r\n\t\t\t\treturn of(null);\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\tgetPageById(id: number | string): Observable<Page> {\r\n\t\treturn this.get(`/${id}`).pipe(\r\n\t\t\t// tap(x => console.log('PageService.getPageById', id, x)),\r\n\t\t\tmap(x => new Page(x)),\r\n\t\t\tcatchError(error => {\r\n\t\t\t\tthis.statusCodeService.setStatusCode(error.status, error.error ? error.error.redirectUrl : null);\r\n\t\t\t\treturn of(null);\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\tgetPageBySlug(slug: string): Observable<Page> {\r\n\t\tslug = slug.split(';')[0];\r\n\t\t// console.log('PageService.getPageBySlug', slug);\r\n\t\treturn this.get(`?slug=/${slug}`).pipe(\r\n\t\t\tmap(x => new Page(x)),\r\n\t\t\t// tap(x => this.logger.log(`found pages matching \"${slug}\"`))\r\n\t\t\t// tap(x => console.log('PageService.getPageBySlug', x, slug))\r\n\t\t\tcatchError(error => {\r\n\t\t\t\t// console.log('PageService.getPageBySlug.error', error);\r\n\t\t\t\tthis.statusCodeService.setStatusCode(error.status, error.error ? error.error.redirectUrl : null);\r\n\t\t\t\treturn of(null);\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\taddOrUpdateMetaData(page: Page) {\r\n\t\t// console.log('PageService.addOrUpdateMetaData', page);\r\n\t\tif (!page) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.titleService.setTitle(page.title);\r\n\t\tthis.addOrUpdateMeta({ property: 'og:title', content: page.title });\r\n\t\tthis.addOrUpdateMeta({ property: 'og:image', content: this.getSocialImage(page).url });\r\n\t\tthis.addOrUpdateMeta({ property: 'og:image:width', content: '1200' });\r\n\t\tthis.addOrUpdateMeta({ property: 'og:image:height', content: '630' });\r\n\t\tthis.addOrUpdateMeta({ property: 'og:url', content: page.url || this.origin });\r\n\t\tconst meta = page.meta;\r\n\t\tif (meta) {\r\n\t\t\tthis.addOrUpdateMeta({ name: 'description', content: meta.description || 'Servizio di qualitÃ  senza costi aggiuntivi con i convenienti pacchetti viaggio Eurospin. Prenota comodamente online!' });\r\n\t\t\tthis.addOrUpdateMeta({ name: 'keywords', content: meta.keywords || 'viaggi,viaggi eurospin' });\r\n\t\t\tthis.addOrUpdateMeta({ name: 'robots', content: meta.robots || 'index,follow' });\r\n\t\t\tthis.addOrUpdateMeta({ property: 'og:locale', content: meta.locale || 'it_IT' });\r\n\t\t\tthis.addOrUpdateMeta({ property: 'og:type', content: meta.type || 'article' });\r\n\t\t\tthis.addOrUpdateMeta({ property: 'og:author', content: meta.author || 'Eurospin Viaggi' });\r\n\t\t\tthis.addOrUpdateLink({ rel: 'canonical', href: meta.canonical || (this.origin.indexOf(page.url) === 0 ? null : page.url) });\r\n\t\t}\r\n\t\t// console.log('PageOutletComponent.addOrUpdateMetaData', page.id, page.title, page.url);\r\n\t}\r\n\r\n\tgetSocialImage(page: Page): Image {\r\n\t\tconst image = page.images ? (\r\n\t\t\tpage.images.find(i => i.type === ImageType.Share) ||\r\n\t\t\tpage.images.find(i => i.type === ImageType.Default) ||\r\n\t\t\tpage.images.find(i => i.type === ImageType.Gallery)\r\n\t\t) : null;\r\n\t\treturn image || {\r\n\t\t\turl: 'https://s-static.ak.fbcdn.net/images/devsite/attachment_blank.png'\r\n\t\t} as Image;\r\n\t}\r\n\r\n\taddOrUpdateMeta(definition: MetaDefinition) {\r\n\t\tconst selector = definition.name ? `name=\"${definition.name}\"` : `property=\"${definition.property}\"`;\r\n\t\tif (this.metaService.getTag(selector)) {\r\n\t\t\tif (definition.content) {\r\n\t\t\t\tthis.metaService.updateTag(definition, selector);\r\n\t\t\t} else {\r\n\t\t\t\tthis.metaService.removeTag(selector);\r\n\t\t\t}\r\n\t\t} else if (definition.content) {\r\n\t\t\tthis.metaService.addTag(definition);\r\n\t\t}\r\n\t}\r\n\r\n\taddOrUpdateLink(definition: LinkDefinition) {\r\n\t\tconst selector = definition.id ? `#${definition.id}` : `[rel=\"${definition.rel}\"]`;\r\n\t\tif (this.linkService.getTag(selector)) {\r\n\t\t\tif (definition.href) {\r\n\t\t\t\tthis.linkService.updateTag(selector, definition);\r\n\t\t\t} else {\r\n\t\t\t\tthis.linkService.removeTag(selector);\r\n\t\t\t}\r\n\t\t} else if (definition.href) {\r\n\t\t\tthis.linkService.addTag(definition);\r\n\t\t}\r\n\t}\r\n\r\n}\r\n","import { Component, ComponentFactory, ComponentFactoryResolver, ComponentRef, OnDestroy, OnInit, ViewChild, ViewContainerRef } from '@angular/core';\r\nimport { ActivatedRoute, ActivatedRouteSnapshot, Router } from '@angular/router';\r\nimport { DisposableComponent, RouteService } from '@designr/core';\r\nimport { PageNotFoundComponent } from './page-not-found.component';\r\nimport { PageComponent } from './page.component';\r\nimport { PageService } from './page.service';\r\n\r\n@Component({\r\n\tselector: 'page-outlet',\r\n\ttemplate: '<ng-template #outlet></ng-template>',\r\n})\r\n\r\nexport class PageOutletComponent extends DisposableComponent implements OnInit, OnDestroy {\r\n\r\n\t@ViewChild('outlet', { read: ViewContainerRef }) viewContainerRef: ViewContainerRef;\r\n\tprivate componentRef: ComponentRef<PageComponent>;\r\n\r\n\tconstructor(\r\n\t\tprivate router: Router,\r\n\t\tprivate route: ActivatedRoute,\r\n\t\tprivate componentFactoryResolver: ComponentFactoryResolver,\r\n\t\tprivate routeService: RouteService,\r\n\t\tprivate pageService: PageService,\r\n\t) {\r\n\t\tsuper();\r\n\t\t// !!! keep -> Avoid PageOutlet Route Caching for different routes\r\n\t\tthis.router.routeReuseStrategy.shouldReuseRoute = () => {\r\n\t\t\treturn false;\r\n\t\t};\r\n\t}\r\n\r\n\tngOnInit() {\r\n\t\tthis.setSnapshot(this.route.snapshot);\r\n\t}\r\n\r\n\tsetSnapshot(snapshot: ActivatedRouteSnapshot): void {\r\n\t\tthis.routeService.params = this.routeService.toData(snapshot.params);\r\n\t\tthis.routeService.queryParams = this.routeService.toData(snapshot.queryParams);\r\n\t\tconst data = snapshot.data;\r\n\t\tconst params = this.routeService.params;\r\n\t\tconst queryParams = this.routeService.queryParams;\r\n\t\tlet component: any = PageNotFoundComponent;\r\n\t\tif (data.pageResolver) {\r\n\t\t\tcomponent = data.pageResolver.component;\r\n\t\t\tconst page = data.pageResolver.page;\r\n\t\t\tconst factory: ComponentFactory<PageComponent> = this.componentFactoryResolver.resolveComponentFactory(component);\r\n\t\t\tthis.viewContainerRef.clear();\r\n\t\t\tconst componentRef = this.viewContainerRef.createComponent(factory);\r\n\t\t\tconst instance = componentRef.instance;\r\n\t\t\tinstance.page = page;\r\n\t\t\tinstance.params = params;\r\n\t\t\tinstance.queryParams = queryParams;\r\n\t\t\tif (typeof instance['PageInit'] === 'function') {\r\n\t\t\t\tinstance['PageInit']();\r\n\t\t\t}\r\n\t\t\tthis.componentRef = componentRef;\r\n\t\t\tif (page) {\r\n\t\t\t\tconst config = this.router.config.slice();\r\n\t\t\t\tconst slug = page.slug;\r\n\t\t\t\tif (slug) {\r\n\t\t\t\t\tconfig.push({\r\n\t\t\t\t\t\tpath: slug.indexOf('/') === 0 ? slug.substr(1) : slug, component: component,\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.router.resetConfig(config);\r\n\t\t\t\t}\r\n\t\t\t\tthis.pageService.addOrUpdateMetaData(page);\r\n\t\t\t}\r\n\t\t}/* else {\r\n\t\t\t// console.log('PageOutletComponent.setSnapshot 404', data);\r\n\t\t}*/\r\n\t}\r\n\r\n\tngOnDestroy() {\r\n\t\tthis.componentRef.destroy();\r\n\t}\r\n\r\n}\r\n","import { Type } from '@angular/core';\r\nimport { ConfigService } from '../config/config.service';\r\nimport { Page } from './page';\r\nimport { PageNotFoundComponent } from './page-not-found.component';\r\nimport { PageComponent } from './page.component';\r\n\r\nexport class PageResolver {\r\n\r\n\tpublic component: Type<PageComponent> = PageComponent;\r\n\r\n\tconstructor(\r\n\t\tprivate configService: ConfigService,\r\n\t\tpublic page: Page,\r\n\t) {\r\n\t\tif (page && this.configService.options.pages) {\r\n\t\t\tthis.component = this.configService.options.pages[page.component] || this.configService.options.defaultPage;\r\n\t\t} else {\r\n\t\t\tthis.component = this.configService.options.notFoundPage || PageNotFoundComponent;\r\n\t\t}\r\n\t}\r\n\r\n}\r\n","\r\nimport { Injectable } from '@angular/core';\r\nimport { ActivatedRouteSnapshot, Resolve, RouterStateSnapshot } from '@angular/router';\r\nimport { RouteService } from '@designr/core';\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { ConfigService } from '../config/config.service';\r\nimport { Page } from './page';\r\nimport { PageResolver } from './page-resolver';\r\nimport { PageService } from './page.service';\r\n\r\n@Injectable({\r\n\tprovidedIn: 'root'\r\n})\r\nexport class PageResolverService implements Resolve<PageResolver> {\r\n\r\n\tpublic events$: BehaviorSubject<PageResolver> = new BehaviorSubject<PageResolver>(null);\r\n\r\n\tconstructor(\r\n\t\tprivate configService: ConfigService,\r\n\t\tprivate pageService: PageService,\r\n\t\tprivate routeService: RouteService,\r\n\t) { }\r\n\r\n\tpageToPageResolver(page: Page): PageResolver {\r\n\t\tconst pageResolver = new PageResolver(this.configService, page);\r\n\t\tthis.events$.next(pageResolver);\r\n\t\treturn pageResolver;\r\n\t}\r\n\r\n\tresolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<PageResolver> {\r\n\t\tif (route.params && route.params.id) {\r\n\t\t\treturn this.getPageById(route.params.id);\r\n\t\t} else {\r\n\t\t\tconst paths = route.url.filter(x => {\r\n\t\t\t\treturn x.path;\r\n\t\t\t}).map(x => {\r\n\t\t\t\treturn x.path;\r\n\t\t\t});\r\n\t\t\tconst slug = this.routeService.toSlug(paths).join('/');\r\n\t\t\treturn this.getPageBySlug(slug);\r\n\t\t}\r\n\t}\r\n\r\n\tgetPageById(id: number | string): Observable<PageResolver> {\r\n\t\t// console.log('PageResolverService.getPageById', id);\r\n\t\treturn this.pageService.getPageById(id).pipe(\r\n\t\t\tmap(page => this.pageToPageResolver(page))\r\n\t\t);\r\n\t}\r\n\r\n\tgetPageBySlug(slug: string): Observable<PageResolver> {\r\n\t\t// console.log('PageResolverService.getPageBySlug', slug);\r\n\t\treturn this.pageService.getStatePageBySlug(slug).pipe(\r\n\t\t\tmap(page => this.pageToPageResolver(page))\r\n\t\t);\r\n\t}\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ActivatedRouteSnapshot, CanActivate, CanDeactivate, RouterStateSnapshot } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable()\r\nexport class PageGuard implements CanActivate, CanDeactivate<any> {\r\n\r\n\tprivate match(route: ActivatedRouteSnapshot): boolean {\r\n\t\tconst lastPath = route.url.length ? route.url[route.url.length - 1].path : '';\r\n\t\tconst pattern = /\\.([0-9a-z]+)(?:[\\?#]|$)/i;\r\n\t\tconst match = (lastPath).match(pattern);\r\n\t\tif (match !== null) {\r\n\t\t\treturn false;\r\n\t\t} else {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\r\n\tcanActivate(\r\n\t\troute: ActivatedRouteSnapshot,\r\n\t\tstate: RouterStateSnapshot\r\n\t): Observable<boolean> | Promise<boolean> | boolean {\r\n\t\treturn this.match(route);\r\n\t}\r\n\r\n\tcanDeactivate(\r\n\t\tcomponent: any,\r\n\t\tcurrentRoute: ActivatedRouteSnapshot,\r\n\t\tcurrentState: RouterStateSnapshot,\r\n\t\tnextState?: RouterStateSnapshot\r\n\t): Observable<boolean> | Promise<boolean> | boolean {\r\n\t\treturn this.match(currentRoute);\r\n\t}\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ActivatedRouteSnapshot, CanActivate, CanDeactivate, RouterStateSnapshot } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable()\r\nexport class StaticGuard implements CanActivate, CanDeactivate<any> {\r\n\r\n\tprivate match(route: ActivatedRouteSnapshot): boolean {\r\n\t\tconst lastPath = route.url[route.url.length - 1].path;\r\n\t\t// console.log('StaticGuard.CanActivate', e, lastPath);\r\n\t\tconst pattern = /\\.([0-9a-z]+)(?:[\\?#]|$)/i;\r\n\t\tconst match = (lastPath).match(pattern);\r\n\t\tif (match !== null) {\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\tcanActivate(\r\n\t\troute: ActivatedRouteSnapshot,\r\n\t\tstate: RouterStateSnapshot\r\n\t): Observable<boolean> | Promise<boolean> | boolean {\r\n\t\treturn this.match(route);\r\n\t}\r\n\r\n\tcanDeactivate(\r\n\t\tcomponent: any,\r\n\t\tcurrentRoute: ActivatedRouteSnapshot,\r\n\t\tcurrentState: RouterStateSnapshot,\r\n\t\tnextState?: RouterStateSnapshot\r\n\t): Observable<boolean> | Promise<boolean> | boolean {\r\n\t\treturn this.match(currentRoute);\r\n\t}\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { PageNotFoundComponent } from './page/page-not-found.component';\r\nimport { PageOutletComponent } from './page/page-outlet.component';\r\nimport { PageResolverService } from './page/page-resolver.service';\r\nimport { PageGuard } from './page/page.guard';\r\nimport { StaticGuard } from './page/static.guard';\r\n\r\nconst routes: Routes = [\r\n\t{ path: 'page/:id', component: PageOutletComponent, resolve: { pageResolver: PageResolverService } },\r\n\t{ path: '**', component: PageOutletComponent, resolve: { pageResolver: PageResolverService }, canActivate: [PageGuard] },\r\n\t{ path: '**', component: PageNotFoundComponent, canActivate: [StaticGuard] },\r\n];\r\n\r\n@NgModule({\r\n\timports: [\r\n\t\tRouterModule.forChild(routes),\r\n\t],\r\n\texports: [\r\n\t\tRouterModule,\r\n\t],\r\n})\r\n\r\nexport class PageRouting { }\r\n","import { CommonModule } from '@angular/common';\r\nimport { ModuleWithProviders, NgModule, Optional, SkipSelf } from '@angular/core';\r\nimport { CoreModule } from '@designr/core';\r\nimport { ConfigService } from './config/config.service';\r\nimport { PageConfig, PAGE_CONFIG } from './config/page.config';\r\nimport { LayoutComponent } from './layout/layout.component';\r\nimport { UseLayoutDirective } from './layout/use-layout.directive';\r\nimport { PageModuleComponent } from './page-module.component';\r\nimport { PageRouting } from './page.routing';\r\nimport { PageNotFoundComponent } from './page/page-not-found.component';\r\nimport { PageOutletComponent } from './page/page-outlet.component';\r\nimport { PageComponent } from './page/page.component';\r\nimport { PageGuard } from './page/page.guard';\r\nimport { PageService } from './page/page.service';\r\nimport { StaticGuard } from './page/static.guard';\r\n\r\nconst services = [\r\n\tConfigService,\r\n\tPageService,\r\n];\r\n\r\nconst components = [\r\n\tPageModuleComponent,\r\n\tPageComponent,\r\n\tPageNotFoundComponent,\r\n\tPageOutletComponent,\r\n\tLayoutComponent,\r\n];\r\n\r\nconst directives = [\r\n\tUseLayoutDirective\r\n];\r\n\r\nconst pipes = [\r\n];\r\n\r\nconst validators = [\r\n];\r\n\r\nconst guards = [\r\n\tPageGuard,\r\n\tStaticGuard,\r\n];\r\n\r\n@NgModule({\r\n\timports: [\r\n\t\tCommonModule,\r\n\t\tCoreModule,\r\n\t\tPageRouting,\r\n\t],\r\n\tproviders: [\r\n\t\t...services,\r\n\t\t...guards,\r\n\t],\r\n\tdeclarations: [\r\n\t\t...components,\r\n\t\t...directives,\r\n\t],\r\n\tentryComponents: [\r\n\t\t...components,\r\n\t],\r\n\texports: [\r\n\t\tCoreModule,\r\n\t\tPageRouting,\r\n\t\t...components,\r\n\t\t...directives,\r\n\t],\r\n})\r\n\r\nexport class PageModule {\r\n\r\n\tconstructor(\r\n\t\t@Optional() @SkipSelf() parentModule: PageModule\r\n\t) {\r\n\t\tif (parentModule) {\r\n\t\t\tthrow new Error('PageModule is already loaded. Import it in the AppModule only');\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static forRoot(\r\n\t\tconfig?: PageConfig,\r\n\t): ModuleWithProviders {\r\n\t\treturn {\r\n\t\t\tngModule: PageModule,\r\n\t\t\tproviders: [{\r\n\t\t\t\tprovide: PAGE_CONFIG, useValue: config\r\n\t\t\t}]\r\n\t\t};\r\n\t}\r\n\r\n}\r\n"],"names":["tslib_1.__extends"],"mappings":"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"}
