{"version":3,"file":"designr-page.js","sources":["ng://@designr/page/lib/config/page.config.ts","ng://@designr/page/lib/config/config.service.ts","ng://@designr/page/lib/layout/layout.ts","ng://@designr/page/lib/layout/layout.component.ts","ng://@designr/page/lib/page/page.ts","ng://@designr/page/lib/layout/use-layout.directive.ts","ng://@designr/page/lib/page-module.component.ts","ng://@designr/page/lib/page/page.component.ts","ng://@designr/page/lib/page/page-not-found.component.ts","ng://@designr/page/lib/page/link.service.ts","ng://@designr/page/lib/page/page.service.ts","ng://@designr/page/lib/page/page-outlet.component.ts","ng://@designr/page/lib/page/page-resolver.ts","ng://@designr/page/lib/page/page-resolver.service.ts","ng://@designr/page/lib/page/page.guard.ts","ng://@designr/page/lib/page/static.guard.ts","ng://@designr/page/lib/page.routing.ts","ng://@designr/page/lib/page.module.ts","ng://@designr/page/designr-page.ts"],"sourcesContent":["import { InjectionToken, Type } from '@angular/core';\nimport { Layouts } from '../layout/layout';\nimport { LayoutComponent } from '../layout/layout.component';\nimport { Pages } from '../page/page';\nimport { PageComponent } from '../page/page.component';\n\nexport class PageConfig {\n\tdefaultPage?: Type<PageComponent>;\n\tnotFoundPage?: Type<PageComponent>;\n\tdefaultLayout?: Type<LayoutComponent>;\n\tpages?: Pages = {};\n\tlayouts?: Layouts = {};\n\n\tconstructor(options?: PageConfig) {\n\t\t// console.log('PageConfig', options);\n\t\tif (options) {\n\t\t\tthis.layouts = options.layouts || {};\n\t\t\tthis.defaultLayout = options.defaultLayout;\n\t\t\tthis.pages = options.pages || {};\n\t\t\tthis.defaultPage = options.defaultPage;\n\t\t\tthis.notFoundPage = options.notFoundPage;\n\t\t}\n\t}\n}\n\nexport const PAGE_CONFIG = new InjectionToken<PageConfig>('page.config');\n","import { Inject, Injectable } from '@angular/core';\nimport { PageConfig, PAGE_CONFIG } from '../config/page.config';\n\n@Injectable({\n\tprovidedIn: 'root'\n})\nexport class ConfigService {\n\n\tpublic options: PageConfig;\n\n\tconstructor(\n\t\t@Inject(PAGE_CONFIG) options: PageConfig\n\t) {\n\t\tthis.options = new PageConfig(options || {});\n\t}\n\n}\n","import { Input, TemplateRef, Type } from '@angular/core';\nimport { Page } from '../page/page';\n\nexport class ILayoutComponent {\n\t@Input() template: TemplateRef<any>;\n\tpage?: Page;\n}\n\nexport interface Layouts { [key: string]: Type<ILayoutComponent>; }\n","import { Component, Input, TemplateRef } from '@angular/core';\nimport { Page } from '../page/page';\nimport { ILayoutComponent } from './layout';\n\n@Component({\n\tselector: 'layout-component',\n\ttemplate: `<div [ngClass]=\"page?.component\">\n\t<ng-container *ngTemplateOutlet=\"template\"></ng-container>\n</div>`\n})\nexport class LayoutComponent implements ILayoutComponent {\n\t@Input() template: TemplateRef<any>;\n\tpage?: Page;\n}\n","import { Type } from '@angular/core';\nimport { Document, Feature, Image, Taxonomy } from '@designr/core';\nimport { PageComponent } from './page.component';\n\nexport interface Pages { [key: string]: Type<PageComponent>; }\n\nexport class PageMeta {\n\tappId?: string;\n\tauthor?: string;\n\tcanonical?: string;\n\tdescription?: string;\n\tkeywords?: string;\n\tlocale?: string;\n\trobots?: string;\n\ttitle?: string;\n\ttype?: string;\n}\n\nexport class PageIndex implements Document {\n\tid: number | string;\n\tslug?: string;\n\turl?: string;\n\tname?: string;\n\ttitle?: string;\n\tabstract?: string;\n\timages?: Image[];\n\tcomponent?: number | string;\n\ttype?: number | string;\n\trelationType?: number | string;\n\n\tconstructor(options?: PageIndex) {\n\t\tif (options) {\n\t\t\tObject.assign(this, options);\n\t\t}\n\t}\n}\n\nexport class PageRelation implements Document {\n\tid: number | string;\n\tpage: Page;\n\ttype?: number | string;\n}\n\nexport class Page implements Document {\n\tid: number | string;\n\tslug?: string;\n\turl?: string;\n\tname?: string;\n\ttitle?: string;\n\tabstract?: string;\n\tdescription?: string;\n\tfeatures?: Feature[];\n\tmeta?: PageMeta = {};\n\timages?: Image[];\n\trelated?: PageIndex[];\n\ttaxonomies?: Taxonomy[];\n\ttype?: number | string;\n\tcomponent?: number | string;\n\tactive?: boolean;\n\n\tconstructor(options?: Page) {\n\t\tif (options) {\n\t\t\tObject.assign(this, options);\n\t\t\tif (options.related) {\n\t\t\t\tconst related: PageIndex[] = options.related.map((x: PageRelation) => {\n\t\t\t\t\t// const item = new PageIndex(x.page);\n\t\t\t\t\tconst item = new PageIndex(x);\n\t\t\t\t\titem.relationType = x.type;\n\t\t\t\t\treturn item;\n\t\t\t\t});\n\t\t\t\tthis.related = related;\n\t\t\t}\n\t\t}\n\t}\n\n\tgetFeature?(id: number): Feature {\n\t\treturn this.features.find(x => x.id === id) || null;\n\t}\n\n\tgetFeatures?(type: number, n: number[]): Feature[] {\n\t\treturn this.features ? this.features.filter((x: Feature, i: number) => (\n\t\t\tn.indexOf(Number(x.id)) !== -1 && x.type === type\n\t\t)).sort((a: Feature, b: Feature) => a.type - b.type) : [];\n\t}\n\n\tgetFeaturesByTypes?(type: number[]): Feature[] {\n\t\treturn this.features ? this.features.filter((x: Feature) => (\n\t\t\ttype.indexOf(Number(x.type)) !== -1\n\t\t)) : [];\n\t}\n\n\tgetGroupedFeaturesByTypes?(type: number[]): any {\n\t\tconst groups = {};\n\t\ttype.forEach(type => {\n\t\t\tconst group = groups[type] || { features: [] };\n\t\t\tif (this.features) {\n\t\t\t\tthis.features.forEach((x: Feature) => {\n\t\t\t\t\tif (Number(x.type) === type) {\n\t\t\t\t\t\tgroup.features.push(x);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tgroups[type] = group;\n\t\t});\n\t\t/*\n\t\tif (this.features) {\n\t\t\tthis.features.forEach((x: Feature) => {\n\t\t\t\tif (type.indexOf(Number(x.type)) !== -1) {\n\t\t\t\t\tconst group = groups[x.type] || { features: [] };\n\t\t\t\t\tgroup.features.push(x);\n\t\t\t\t\tgroups[x.type] = group;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t*/\n\t\treturn groups;\n\t}\n\n\n}\n","import { ComponentFactoryResolver, ComponentRef, Directive, Input, OnDestroy, OnInit, TemplateRef, Type, ViewContainerRef } from '@angular/core';\nimport { ConfigService } from '../config/config.service';\nimport { Page } from '../page/page';\nimport { ILayoutComponent } from './layout';\nimport { LayoutComponent } from './layout.component';\n\n@Directive({\n\tselector: '[useLayout]'\n})\nexport class UseLayoutDirective implements OnInit, OnDestroy {\n\n\tprivate container: ComponentRef<ILayoutComponent>;\n\t@Input('useLayout') layoutKey?: string;\n\t@Input() page?: Page;\n\n\tconstructor(\n\t\tprivate templateRef: TemplateRef<any>,\n\t\tprivate viewContainerRef: ViewContainerRef,\n\t\tprivate componentFactoryResolver: ComponentFactoryResolver,\n\t\tprivate configService: ConfigService,\n\t) { }\n\n\tngOnInit() {\n\t\tconst options = this.configService.options;\n\t\tconst component: Type<ILayoutComponent> = options.layouts[this.layoutKey] || options.defaultLayout || LayoutComponent;\n\t\tconst containerFactory = this.componentFactoryResolver.resolveComponentFactory(component);\n\t\tthis.container = this.viewContainerRef.createComponent(containerFactory);\n\t\tthis.container.instance.template = this.templateRef;\n\t\tthis.container.instance.page = this.page;\n\t}\n\n\tngOnDestroy() {\n\t\tif (this.container) {\n\t\t\tthis.container.destroy();\n\t\t\tthis.container = null;\n\t\t}\n\t}\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n\tselector: 'page-module',\n\ttemplate: `<span class=\"page-module\">page {{version}}</span>`,\n\tstyles: []\n})\nexport class PageModuleComponent implements OnInit {\n\n\tversion: string = '0.0.12';\n\n\tconstructor() { }\n\n\tngOnInit() {\n\t}\n\n}\n","\nimport { isPlatformBrowser } from '@angular/common';\nimport { Component, Injector, Input, PLATFORM_ID } from '@angular/core';\nimport { NavigationEnd, Params, Router } from '@angular/router';\nimport { DisposableComponent, RouteService } from '@designr/core';\nimport { Observable } from 'rxjs';\nimport { Page } from './page';\n\nexport interface PageInit {\n\tPageInit(): void;\n}\n\n@Component({\n\tselector: 'core-page',\n\ttemplate: `<div class=\"page\">Page not found!</div>`,\n})\nexport class PageComponent extends DisposableComponent {\n\n\t@Input() page: Page;\n\t@Input() params: Observable<Params>;\n\t@Input() queryParams: Observable<Params>;\n\n\tget platformId(): string {\n\t\treturn this.injector.get(PLATFORM_ID) as string;\n\t}\n\n\tget routeService(): RouteService {\n\t\treturn this.injector.get(RouteService);\n\t}\n\n\tget router(): Router {\n\t\treturn this.injector.get(Router);\n\t}\n\n\tconstructor(\n\t\tprotected injector: Injector,\n\t) {\n\t\tsuper();\n\t\tthis.scrollToTop();\n\t}\n\n\t// !!! Scroll to top on page change\n\tprivate scrollToTop(): void {\n\t\t// !!! PLATFORM_ID dependancy manually activated\n\t\t// const platformId: string = RouteService.injector.get(PLATFORM_ID) as string;\n\t\tif (isPlatformBrowser(this.platformId)) {\n\t\t\t// !!! Router dependancy manually activated\n\t\t\t// const router = RouteService.injector.get(Router);\n\t\t\tthis.router.events.subscribe((e) => {\n\t\t\t\tif (!(e instanceof NavigationEnd)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\twindow.scrollTo(0, 0);\n\t\t\t});\n\t\t}\n\t}\n\n\tgetId(): number | string {\n\t\treturn this.routeService.getId() || (this.page ? this.page.id : 0);\n\t}\n\n\tgetSlug(): string {\n\t\treturn this.routeService.getSlug() || (this.page ? this.page.slug : '');\n\t}\n\n}\n","import { Component, Injector, ViewEncapsulation } from '@angular/core';\nimport { PageComponent } from './page.component';\n\n@Component({\n\tselector: 'page-not-found-component',\n\ttemplate: `<div class=\"page\">Page <span>{{url}}</span> not found</div>`,\n\tencapsulation: ViewEncapsulation.Emulated,\n})\n\nexport class PageNotFoundComponent extends PageComponent {\n\n\tpublic url: string;\n\n\tconstructor(\n\t\tprotected injector: Injector\n\t) {\n\t\tsuper(injector);\n\t\tthis.url = this.router.url;\n\t}\n\n}\n","import { DOCUMENT } from '@angular/common';\nimport { Inject, Injectable } from '@angular/core';\n\nexport class LinkDefinition {\n\thref?: string;\n\tid?: string;\n\trel?: string;\n}\n\n@Injectable({\n\tprovidedIn: 'root',\n})\nexport class LinkService {\n\n\tconstructor(\n\t\t@Inject(DOCUMENT) private doc: any,\n\t) { }\n\n\taddTag(definition: LinkDefinition) {\n\t\tconst element = this.doc.createElement(`link`);\n\t\tthis.updateElementDefinition(element, definition);\n\t\tthis.doc.head.appendChild(element);\n\t}\n\n\tgetTag(selector: string) {\n\t\tconst element = this.doc.querySelector(`link${selector}`);\n\t\treturn element;\n\t}\n\n\tupdateTag(selector: string, definition: LinkDefinition) {\n\t\tconst element = this.doc.querySelector(`link${selector}`);\n\t\tthis.updateElementDefinition(element, definition);\n\t}\n\n\tremoveTag(selector: string) {\n\t\tconst element = this.doc.querySelector(`link${selector}`);\n\t\telement.remove();\n\t}\n\n\tupdateElementDefinition(element: HTMLLinkElement, definition: LinkDefinition) {\n\t\tthis.updateElementAttribute(element, 'href', definition.href);\n\t\tthis.updateElementAttribute(element, 'id', definition.id);\n\t\tthis.updateElementAttribute(element, 'rel', definition.rel);\n\t}\n\n\tupdateElementAttribute(element: HTMLLinkElement, attribute: string, value: any) {\n\t\tif (value) {\n\t\t\telement.setAttribute(attribute, value);\n\t\t} else {\n\t\t\telement.removeAttribute(attribute);\n\t\t}\n\t}\n\n}\n","import { Injectable, Injector } from '@angular/core';\nimport { Meta, MetaDefinition, Title } from '@angular/platform-browser';\nimport { EntityService, HttpStatusCodeService, Image, ImageType } from '@designr/core';\nimport { Observable, of } from 'rxjs';\nimport { catchError, map } from 'rxjs/operators';\nimport { LinkDefinition, LinkService } from './link.service';\nimport { Page } from './page';\n\n@Injectable({\n\tprovidedIn: 'root'\n})\nexport class PageService extends EntityService<Page> {\n\n\tpublic page: Page;\n\n\tget collection(): string {\n\t\treturn '/api/page';\n\t}\n\n\tconstructor(\n\t\tprotected injector: Injector,\n\t\tprivate titleService: Title,\n\t\tprivate metaService: Meta,\n\t\tprivate linkService: LinkService,\n\t\tprivate statusCodeService: HttpStatusCodeService,\n\t) {\n\t\tsuper(injector);\n\t\t// console.log('PageService', options);\n\t}\n\n\tgetStatePageBySlug(slug: string): Observable<Page> {\n\t\tslug = slug.split('?')[0];\n\t\tif (slug.indexOf('/') === 0) {\n\t\t\tslug = slug.substr(1);\n\t\t}\n\t\treturn this.stateGet(`?slug=/${slug}`).pipe(\n\t\t\tmap(x => {\n\t\t\t\tx = new Page(Array.isArray(x) ? x.find(x => x.slug === `/${slug}`) : x);\n\t\t\t\t// console.log('PageService.getStatePageBySlug', x);\n\t\t\t\treturn x;\n\t\t\t}),\n\t\t\tcatchError(error => {\n\t\t\t\t// console.log('getStatePageBySlug.error', error);\n\t\t\t\tthis.statusCodeService.setStatusCode(error.status, error.error ? error.error.redirectUrl : null);\n\t\t\t\treturn of(null);\n\t\t\t}),\n\t\t);\n\t}\n\n\tgetStatePageById(id: number | string): Observable<Page> {\n\t\treturn this.stateGet(`/${id}`).pipe(\n\t\t\t// tap(x => console.log('PageService.getPageById', id, x)),\n\t\t\tmap(x => new Page(x)),\n\t\t\tcatchError(error => {\n\t\t\t\tthis.statusCodeService.setStatusCode(error.status, error.error ? error.error.redirectUrl : null);\n\t\t\t\treturn of(null);\n\t\t\t})\n\t\t);\n\t}\n\n\tgetPageById(id: number | string): Observable<Page> {\n\t\treturn this.get(`/${id}`).pipe(\n\t\t\t// tap(x => console.log('PageService.getPageById', id, x)),\n\t\t\tmap(x => new Page(x)),\n\t\t\tcatchError(error => {\n\t\t\t\tthis.statusCodeService.setStatusCode(error.status, error.error ? error.error.redirectUrl : null);\n\t\t\t\treturn of(null);\n\t\t\t})\n\t\t);\n\t}\n\n\tgetPageBySlug(slug: string): Observable<Page> {\n\t\tslug = slug.split(';')[0];\n\t\t// console.log('PageService.getPageBySlug', slug);\n\t\treturn this.get(`?slug=/${slug}`).pipe(\n\t\t\tmap(x => new Page(x)),\n\t\t\t// tap(x => this.logger.log(`found pages matching \"${slug}\"`))\n\t\t\t// tap(x => console.log('PageService.getPageBySlug', x, slug))\n\t\t\tcatchError(error => {\n\t\t\t\t// console.log('PageService.getPageBySlug.error', error);\n\t\t\t\tthis.statusCodeService.setStatusCode(error.status, error.error ? error.error.redirectUrl : null);\n\t\t\t\treturn of(null);\n\t\t\t})\n\t\t);\n\t}\n\n\taddOrUpdateMetaData(page: Page) {\n\t\t// console.log('PageService.addOrUpdateMetaData', page);\n\t\tif (!page) {\n\t\t\treturn;\n\t\t}\n\t\tthis.titleService.setTitle(page.title);\n\t\tthis.addOrUpdateMeta({ property: 'og:title', content: page.title });\n\t\tthis.addOrUpdateMeta({ property: 'og:image', content: this.getSocialImage(page).url });\n\t\tthis.addOrUpdateMeta({ property: 'og:image:width', content: '1200' });\n\t\tthis.addOrUpdateMeta({ property: 'og:image:height', content: '630' });\n\t\tthis.addOrUpdateMeta({ property: 'og:url', content: page.url || this.origin });\n\t\tconst meta = page.meta;\n\t\tif (meta) {\n\t\t\tthis.addOrUpdateMeta({ name: 'description', content: meta.description || 'Servizio di qualità senza costi aggiuntivi con i convenienti pacchetti viaggio Eurospin. Prenota comodamente online!' });\n\t\t\tthis.addOrUpdateMeta({ name: 'keywords', content: meta.keywords || 'viaggi,viaggi eurospin' });\n\t\t\tthis.addOrUpdateMeta({ name: 'robots', content: meta.robots || 'index,follow' });\n\t\t\tthis.addOrUpdateMeta({ property: 'og:locale', content: meta.locale || 'it_IT' });\n\t\t\tthis.addOrUpdateMeta({ property: 'og:type', content: meta.type || 'article' });\n\t\t\tthis.addOrUpdateMeta({ property: 'og:author', content: meta.author || 'Eurospin Viaggi' });\n\t\t\tthis.addOrUpdateLink({ rel: 'canonical', href: meta.canonical || (this.origin.indexOf(page.url) === 0 ? null : page.url) });\n\t\t}\n\t\t// console.log('PageOutletComponent.addOrUpdateMetaData', page.id, page.title, page.url);\n\t}\n\n\tgetSocialImage(page: Page): Image {\n\t\tconst image = page.images ? (\n\t\t\tpage.images.find(i => i.type === ImageType.Share) ||\n\t\t\tpage.images.find(i => i.type === ImageType.Default) ||\n\t\t\tpage.images.find(i => i.type === ImageType.Gallery)\n\t\t) : null;\n\t\treturn image || {\n\t\t\turl: 'https://s-static.ak.fbcdn.net/images/devsite/attachment_blank.png'\n\t\t} as Image;\n\t}\n\n\taddOrUpdateMeta(definition: MetaDefinition) {\n\t\tconst selector = definition.name ? `name=\"${definition.name}\"` : `property=\"${definition.property}\"`;\n\t\tif (this.metaService.getTag(selector)) {\n\t\t\tif (definition.content) {\n\t\t\t\tthis.metaService.updateTag(definition, selector);\n\t\t\t} else {\n\t\t\t\tthis.metaService.removeTag(selector);\n\t\t\t}\n\t\t} else if (definition.content) {\n\t\t\tthis.metaService.addTag(definition);\n\t\t}\n\t}\n\n\taddOrUpdateLink(definition: LinkDefinition) {\n\t\tconst selector = definition.id ? `#${definition.id}` : `[rel=\"${definition.rel}\"]`;\n\t\tif (this.linkService.getTag(selector)) {\n\t\t\tif (definition.href) {\n\t\t\t\tthis.linkService.updateTag(selector, definition);\n\t\t\t} else {\n\t\t\t\tthis.linkService.removeTag(selector);\n\t\t\t}\n\t\t} else if (definition.href) {\n\t\t\tthis.linkService.addTag(definition);\n\t\t}\n\t}\n\n}\n","import { Component, ComponentFactory, ComponentFactoryResolver, ComponentRef, OnDestroy, OnInit, ViewChild, ViewContainerRef } from '@angular/core';\nimport { ActivatedRoute, ActivatedRouteSnapshot, Router } from '@angular/router';\nimport { DisposableComponent, RouteService } from '@designr/core';\nimport { PageNotFoundComponent } from './page-not-found.component';\nimport { PageComponent } from './page.component';\nimport { PageService } from './page.service';\n\n@Component({\n\tselector: 'page-outlet',\n\ttemplate: '<ng-template #outlet></ng-template>',\n})\n\nexport class PageOutletComponent extends DisposableComponent implements OnInit, OnDestroy {\n\n\t@ViewChild('outlet', { read: ViewContainerRef, static: true }) viewContainerRef: ViewContainerRef;\n\tprivate componentRef: ComponentRef<PageComponent>;\n\n\tconstructor(\n\t\tprivate router: Router,\n\t\tprivate route: ActivatedRoute,\n\t\tprivate componentFactoryResolver: ComponentFactoryResolver,\n\t\tprivate routeService: RouteService,\n\t\tprivate pageService: PageService,\n\t) {\n\t\tsuper();\n\t\t// !!! keep -> Avoid PageOutlet Route Caching for different routes\n\t\tthis.router.routeReuseStrategy.shouldReuseRoute = () => {\n\t\t\treturn false;\n\t\t};\n\t}\n\n\tngOnInit() {\n\t\tthis.setSnapshot(this.route.snapshot);\n\t}\n\n\tsetSnapshot(snapshot: ActivatedRouteSnapshot): void {\n\t\tthis.routeService.params = this.routeService.toData(snapshot.params);\n\t\tthis.routeService.queryParams = this.routeService.toData(snapshot.queryParams);\n\t\tconst data = snapshot.data;\n\t\tconst params = this.routeService.params;\n\t\tconst queryParams = this.routeService.queryParams;\n\t\tlet component: any = PageNotFoundComponent;\n\t\tif (data.pageResolver) {\n\t\t\tcomponent = data.pageResolver.component;\n\t\t\tconst page = data.pageResolver.page;\n\t\t\tconst factory: ComponentFactory<PageComponent> = this.componentFactoryResolver.resolveComponentFactory(component);\n\t\t\tthis.viewContainerRef.clear();\n\t\t\tconst componentRef = this.viewContainerRef.createComponent(factory);\n\t\t\tconst instance = componentRef.instance;\n\t\t\tinstance.page = page;\n\t\t\tinstance.params = params;\n\t\t\tinstance.queryParams = queryParams;\n\t\t\tif (typeof instance['PageInit'] === 'function') {\n\t\t\t\tinstance['PageInit']();\n\t\t\t}\n\t\t\tthis.componentRef = componentRef;\n\t\t\tif (page) {\n\t\t\t\tconst config = this.router.config.slice();\n\t\t\t\tconst slug = page.slug;\n\t\t\t\tif (slug) {\n\t\t\t\t\tconfig.push({\n\t\t\t\t\t\tpath: slug.indexOf('/') === 0 ? slug.substr(1) : slug, component: component,\n\t\t\t\t\t});\n\t\t\t\t\tthis.router.resetConfig(config);\n\t\t\t\t}\n\t\t\t\tthis.pageService.addOrUpdateMetaData(page);\n\t\t\t}\n\t\t}/* else {\n\t\t\t// console.log('PageOutletComponent.setSnapshot 404', data);\n\t\t}*/\n\t}\n\n\tngOnDestroy() {\n\t\tthis.componentRef.destroy();\n\t}\n\n}\n","import { Type } from '@angular/core';\nimport { ConfigService } from '../config/config.service';\nimport { Page } from './page';\nimport { PageNotFoundComponent } from './page-not-found.component';\nimport { PageComponent } from './page.component';\n\nexport class PageResolver {\n\n\tpublic component: Type<PageComponent> = PageComponent;\n\n\tconstructor(\n\t\tprivate configService: ConfigService,\n\t\tpublic page: Page,\n\t) {\n\t\tif (page && this.configService.options.pages) {\n\t\t\tthis.component = this.configService.options.pages[page.component] || this.configService.options.defaultPage;\n\t\t} else {\n\t\t\tthis.component = this.configService.options.notFoundPage || PageNotFoundComponent;\n\t\t}\n\t}\n\n}\n","\nimport { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, Resolve, RouterStateSnapshot } from '@angular/router';\nimport { RouteService } from '@designr/core';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { ConfigService } from '../config/config.service';\nimport { Page } from './page';\nimport { PageResolver } from './page-resolver';\nimport { PageService } from './page.service';\n\n@Injectable({\n\tprovidedIn: 'root'\n})\nexport class PageResolverService implements Resolve<PageResolver> {\n\n\tpublic events$: BehaviorSubject<PageResolver> = new BehaviorSubject<PageResolver>(null);\n\n\tconstructor(\n\t\tprivate configService: ConfigService,\n\t\tprivate pageService: PageService,\n\t\tprivate routeService: RouteService,\n\t) { }\n\n\tpageToPageResolver(page: Page): PageResolver {\n\t\tconst pageResolver = new PageResolver(this.configService, page);\n\t\tthis.events$.next(pageResolver);\n\t\treturn pageResolver;\n\t}\n\n\tresolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<PageResolver> {\n\t\tif (route.params && route.params.id) {\n\t\t\treturn this.getPageById(route.params.id);\n\t\t} else {\n\t\t\tconst paths = route.url.filter(x => {\n\t\t\t\treturn x.path;\n\t\t\t}).map(x => {\n\t\t\t\treturn x.path;\n\t\t\t});\n\t\t\tconst slug = this.routeService.toSlug(paths).join('/');\n\t\t\treturn this.getPageBySlug(slug);\n\t\t}\n\t}\n\n\tgetPageById(id: number | string): Observable<PageResolver> {\n\t\t// console.log('PageResolverService.getPageById', id);\n\t\treturn this.pageService.getPageById(id).pipe(\n\t\t\tmap(page => this.pageToPageResolver(page))\n\t\t);\n\t}\n\n\tgetPageBySlug(slug: string): Observable<PageResolver> {\n\t\t// console.log('PageResolverService.getPageBySlug', slug);\n\t\treturn this.pageService.getStatePageBySlug(slug).pipe(\n\t\t\tmap(page => this.pageToPageResolver(page))\n\t\t);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanActivate, CanDeactivate, RouterStateSnapshot } from '@angular/router';\nimport { Observable } from 'rxjs';\n\n@Injectable()\nexport class PageGuard implements CanActivate, CanDeactivate<any> {\n\n\tprivate match(route: ActivatedRouteSnapshot): boolean {\n\t\tconst lastPath = route.url.length ? route.url[route.url.length - 1].path : '';\n\t\tconst pattern = /\\.([0-9a-z]+)(?:[\\?#]|$)/i;\n\t\tconst match = (lastPath).match(pattern);\n\t\tif (match !== null) {\n\t\t\treturn false;\n\t\t} else {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\tcanActivate(\n\t\troute: ActivatedRouteSnapshot,\n\t\tstate: RouterStateSnapshot\n\t): Observable<boolean> | Promise<boolean> | boolean {\n\t\treturn this.match(route);\n\t}\n\n\tcanDeactivate(\n\t\tcomponent: any,\n\t\tcurrentRoute: ActivatedRouteSnapshot,\n\t\tcurrentState: RouterStateSnapshot,\n\t\tnextState?: RouterStateSnapshot\n\t): Observable<boolean> | Promise<boolean> | boolean {\n\t\treturn this.match(currentRoute);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanActivate, CanDeactivate, RouterStateSnapshot } from '@angular/router';\nimport { Observable } from 'rxjs';\n\n@Injectable()\nexport class StaticGuard implements CanActivate, CanDeactivate<any> {\n\n\tprivate match(route: ActivatedRouteSnapshot): boolean {\n\t\tconst lastPath = route.url[route.url.length - 1].path;\n\t\t// console.log('StaticGuard.CanActivate', e, lastPath);\n\t\tconst pattern = /\\.([0-9a-z]+)(?:[\\?#]|$)/i;\n\t\tconst match = (lastPath).match(pattern);\n\t\tif (match !== null) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tcanActivate(\n\t\troute: ActivatedRouteSnapshot,\n\t\tstate: RouterStateSnapshot\n\t): Observable<boolean> | Promise<boolean> | boolean {\n\t\treturn this.match(route);\n\t}\n\n\tcanDeactivate(\n\t\tcomponent: any,\n\t\tcurrentRoute: ActivatedRouteSnapshot,\n\t\tcurrentState: RouterStateSnapshot,\n\t\tnextState?: RouterStateSnapshot\n\t): Observable<boolean> | Promise<boolean> | boolean {\n\t\treturn this.match(currentRoute);\n\t}\n\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { PageNotFoundComponent } from './page/page-not-found.component';\nimport { PageOutletComponent } from './page/page-outlet.component';\nimport { PageResolverService } from './page/page-resolver.service';\nimport { PageGuard } from './page/page.guard';\nimport { StaticGuard } from './page/static.guard';\n\nconst routes: Routes = [\n\t{ path: 'page/:id', component: PageOutletComponent, resolve: { pageResolver: PageResolverService } },\n\t{ path: '**', component: PageOutletComponent, resolve: { pageResolver: PageResolverService }, canActivate: [PageGuard] },\n\t{ path: '**', component: PageNotFoundComponent, canActivate: [StaticGuard] },\n];\n\n@NgModule({\n\timports: [\n\t\tRouterModule.forChild(routes),\n\t],\n\texports: [\n\t\tRouterModule,\n\t],\n})\n\nexport class PageRouting { }\n","import { CommonModule } from '@angular/common';\r\nimport { ModuleWithProviders, NgModule, Optional, SkipSelf } from '@angular/core';\r\nimport { CoreModule } from '@designr/core';\r\nimport { ConfigService } from './config/config.service';\r\nimport { PageConfig, PAGE_CONFIG } from './config/page.config';\r\nimport { LayoutComponent } from './layout/layout.component';\r\nimport { UseLayoutDirective } from './layout/use-layout.directive';\r\nimport { PageModuleComponent } from './page-module.component';\r\nimport { PageRouting } from './page.routing';\r\nimport { PageNotFoundComponent } from './page/page-not-found.component';\r\nimport { PageOutletComponent } from './page/page-outlet.component';\r\nimport { PageComponent } from './page/page.component';\r\nimport { PageGuard } from './page/page.guard';\r\nimport { PageService } from './page/page.service';\r\nimport { StaticGuard } from './page/static.guard';\r\n\r\nconst services = [\r\n\tConfigService,\r\n\tPageService,\r\n];\r\n\r\nconst components = [\r\n\tPageModuleComponent,\r\n\tPageComponent,\r\n\tPageNotFoundComponent,\r\n\tPageOutletComponent,\r\n\tLayoutComponent,\r\n];\r\n\r\nconst directives = [\r\n\tUseLayoutDirective\r\n];\r\n\r\nconst pipes = [\r\n];\r\n\r\nconst validators = [\r\n];\r\n\r\nconst guards = [\r\n\tPageGuard,\r\n\tStaticGuard,\r\n];\r\n\r\n@NgModule({\r\n\timports: [\r\n\t\tCommonModule,\r\n\t\tCoreModule,\r\n\t\tPageRouting,\r\n\t],\r\n\tproviders: [\r\n\t\t...services,\r\n\t\t...guards,\r\n\t],\r\n\tdeclarations: [\r\n\t\t...components,\r\n\t\t...directives,\r\n\t],\r\n\tentryComponents: [\r\n\t\t...components,\r\n\t],\r\n\texports: [\r\n\t\tCoreModule,\r\n\t\tPageRouting,\r\n\t\t...components,\r\n\t\t...directives,\r\n\t],\r\n})\r\n\r\nexport class PageModule {\r\n\r\n\tconstructor(\r\n\t\t@Optional() @SkipSelf() parentModule: PageModule\r\n\t) {\r\n\t\tif (parentModule) {\r\n\t\t\tthrow new Error('PageModule is already loaded. Import it in the AppModule only');\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static forRoot(\r\n\t\tconfig?: PageConfig,\r\n\t): ModuleWithProviders {\r\n\t\treturn {\r\n\t\t\tngModule: PageModule,\r\n\t\t\tproviders: [{\r\n\t\t\t\tprovide: PAGE_CONFIG, useValue: config\r\n\t\t\t}]\r\n\t\t};\r\n\t}\r\n\r\n}\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["i0.ɵɵelementContainer","i0.ɵɵelementStart","i0.ɵɵtemplate","i0.ɵɵelementEnd","i0.ɵɵproperty","i0.ɵɵadvance","i0.ɵɵtext","i0.ɵɵtextInterpolate1","i0.ɵɵtextInterpolate"],"mappings":"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"}