!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/common"),require("@angular/core"),require("@designr/core"),require("@designr/page")):"function"==typeof define&&define.amd?define("@designr/section",["exports","@angular/common","@angular/core","@designr/core","@designr/page"],t):t((e.designr=e.designr||{},e.designr.section={}),e.ng.common,e.ng.core,e.core,e.page)}(this,function(e,o,r,n,t){"use strict";var i=function S(e){this.sections={},e&&(Object.assign(this,e),this.sections=e.sections||{})},c=new r.InjectionToken("section.config"),s=function(){function e(){this.version="0.0.3"}return e.prototype.ngOnInit=function(){},e.decorators=[{type:r.Component,args:[{selector:"section-module",template:'<span class="section-module">section {{version}}</span>'}]}],e.ctorParameters=function(){return[]},e}(),a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)};function p(e,t){function o(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}function u(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var n,r,i=o.call(e),c=[];try{for(;(void 0===t||0<t--)&&!(n=i.next()).done;)c.push(n.value)}catch(s){r={error:s}}finally{try{n&&!n.done&&(o=i["return"])&&o.call(i)}finally{if(r)throw r.error}}return c}function l(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u(arguments[t]));return e}var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),t.decorators=[{type:r.Component,args:[{selector:"core-section",template:'<section class="section">Section not found!</section>'}]}],t.propDecorators={section:[{type:r.Input}]},t}(n.DisposableComponent),d=function(){function e(e){e=e||{},this.options=new i(e)}return e.prototype.resolve=function(e){return e&&this.options.sections[e.component]||f},e.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:i,decorators:[{type:r.Inject,args:[c]}]}]},e.ngInjectableDef=r.defineInjectable({factory:function(){return new e(r.inject(c))},token:e,providedIn:"root"}),e}(),y=function(n){function e(e,t){var o=n.call(this)||this;return o.componentFactoryResolver=e,o.sectionService=t,o}return p(e,n),e.prototype.ngOnInit=function(){var e=this.sectionService.resolve(this.section),t=this.componentFactoryResolver.resolveComponentFactory(e);this.viewContainerRef.clear();var o=this.viewContainerRef.createComponent(t),n=o.instance;n.section=this.section,"function"==typeof n.SectionInit&&n.SectionInit(),this.componentRef=o},e.prototype.ngOnDestroy=function(){this.componentRef.destroy()},e.decorators=[{type:r.Component,args:[{selector:"section-outlet",template:"<ng-template #outlet></ng-template>"}]}],e.ctorParameters=function(){return[{type:r.ComponentFactoryResolver},{type:d}]},e.propDecorators={section:[{type:r.Input}],viewContainerRef:[{type:r.ViewChild,args:["outlet",{read:r.ViewContainerRef}]}]},e}(n.DisposableComponent),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),t.decorators=[{type:r.Component,args:[{selector:"section-sections",template:'<ng-container *ngFor="let section of sections">\n\t<section-outlet [section]="section"></section-outlet>\n</ng-container>'}]}],t.propDecorators={sections:[{type:r.Input}]},t}(n.DisposableComponent),g=[d],h=[s,y,f,m],v=function(){function t(e){if(e)throw new Error("SectionModule is already loaded. Import it in the AppModule only")}return t.forRoot=function(e){return{ngModule:t,providers:[{provide:c,useValue:e}]}},t.decorators=[{type:r.NgModule,args:[{imports:[o.CommonModule,n.CoreModule],providers:l(g),declarations:l(h),entryComponents:l(h),exports:l([n.CoreModule],h)}]}],t.ctorParameters=function(){return[{type:t,decorators:[{type:r.Optional},{type:r.SkipSelf}]}]},t}(),C=function(t){function e(e){return t.call(this,e)||this}return p(e,t),e}(t.PageIndex);e.SectionConfig=i,e.SECTION_CONFIG=c,e.SectionModuleComponent=s,e.SectionModule=v,e.Section=C,e.SectionOutletComponent=y,e.SectionComponent=f,e.SectionService=d,e.Éµa=m,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=designr-section.umd.min.js.map