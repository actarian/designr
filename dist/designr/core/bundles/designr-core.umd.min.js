!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/forms"),require("@angular/common/http"),require("@angular/router"),require("json-formatter-js"),require("util"),require("@angular/platform-browser"),require("@angular/common"),require("@angular/core"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("@designr/core",["exports","@angular/forms","@angular/common/http","@angular/router","json-formatter-js","util","@angular/platform-browser","@angular/common","@angular/core","rxjs","rxjs/operators"],e):e((t.designr=t.designr||{},t.designr.core={}),t.ng.forms,t.ng.common.http,t.ng.router,t.JSONFormatter,t.util,t.ng.platformBrowser,t.ng.common,t.ng.core,t.rxjs,t.rxjs.operators)}(this,function(t,e,n,r,o,i,a,l,c,f,g){"use strict";o=o&&o.hasOwnProperty("default")?o["default"]:o;var s={Bearer:0,Cookie:1};s[s.Bearer]="Bearer",s[s.Cookie]="Cookie";var u=function xt(t,e){void 0===e&&(e=0),this.accessToken=t,this.expiresIn=e},p=function(t,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function h(t,e){function r(){this.constructor=t}p(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function d(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i["return"])&&r.call(i)}finally{if(o)throw o.error}}return a}function y(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}var m={Informational:100,Success:200,Redirect:300,Client:400,Server:500,None:999};m[m.Informational]="Informational",m[m.Success]="Success",m[m.Redirect]="Redirect",m[m.Client]="Client",m[m.Server]="Server",m[m.None]="None";var v=function(e){function t(t){return e.call(this,{error:t instanceof n.HttpErrorResponse?t.error:t.statusText,headers:t.headers,status:t.status,statusText:t.statusText,url:t.url})||this}return h(t,e),Object.defineProperty(t.prototype,"statusType",{get:function(){var r=this;return Object.keys(m).reduce(function(t,e){return r.status>=m[e]&&(t=e.toLowerCase()),t},null)},enumerable:!0,configurable:!0}),t}(n.HttpErrorResponse),b=function Mt(t){t&&Object.assign(this,t)},j=function Nt(t){this.assets="",this.authStrategy=s.Cookie,this.defaultLanguage="it",this.defaultMarket="it",this.loggerErrorStrategy=m.Server,this.languages=[{id:1,name:"Italiano",lang:"it"}],this.origin="",this.production=!1,this["public"]="",this.urlStrategy="",this.useLang=!1,this.useMarket=!1,this.transition=t?(Object.assign(this,t),new b(t.transition)):new b},I=new c.InjectionToken("core.config"),S=function(){function t(t){t=t||{},this.options=new j(t)}return t.decorators=[{type:c.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:j,decorators:[{type:c.Inject,args:[I]}]}]},t.ngInjectableDef=c.defineInjectable({factory:function(){return new t(c.inject(I))},token:t,providedIn:"root"}),t}(),w=function(){function t(t){this.coreService=t,this.logs=[]}return t.prototype.request=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!this.coreService.options.production){var r=t.join(", ");this.logs.push(r)}},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!this.coreService.options.production){var r=t.join(", ");this.logs.push(r),console.log.apply(this,["%c%s","background: #1976d2; color: #fff; border-radius: 3px; padding: 4px 8px; margin-bottom: 4px;"].concat(t))}},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!this.coreService.options.production){var r=t.join(", ");this.logs.push(r),console.log.apply(this,["%c%s","background: #ff5500; color: #fff"].concat(t))}},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!this.coreService.options.production){var r=t.join(", ");this.logs.push(r),console.error.apply(console,t)}},t.prototype.http=function(t){this.httpError=new v(t),this.coreService.options.production||this.logs.push(this.httpError.message),console.warn("Logger.http.response",t.status,t.statusText,t.url)},t.prototype.clear=function(){this.httpError=null,this.logs=[]},t.decorators=[{type:c.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:S}]},t.ngInjectableDef=c.defineInjectable({factory:function(){return new t(c.inject(S))},token:t,providedIn:"root"}),t}(),P=function Ft(t){this.headers=new n.HttpHeaders({"Content-Type":"application/json"}),this.params=t},O=function(){function t(t){this.injector=t}return Object.defineProperty(t.prototype,"collection",{get:function(){return"/api"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logger",{get:function(){return this._logger||(this._logger=this.injector.get(w)),this._logger},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"http",{get:function(){return this._http||(this._http=this.injector.get(n.HttpClient)),this._http},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._state||(this._state=this.injector.get(a.TransferState)),this._state},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"platformId",{get:function(){return this._platformId||(this._platformId=this.injector.get(c.PLATFORM_ID)),this._platformId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"config",{get:function(){return this._config||(this._config=this.injector.get(S).options),this._config},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"origin",{get:function(){return this._origin||(this._origin=this.config.origin),this._origin},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){var t=this.origin,e=this.collection.toLowerCase();return 0===e.indexOf("http")&&(t=""),""+t+e},enumerable:!0,configurable:!0}),t.prototype.getUrl=function(t){return void 0===t&&(t=""),""+this.url+t},t.prototype.get=function(t,e){var r=this,n="string"==typeof t?t:"",o="object"==typeof t?t:e,i=this.getUrl(n),a=new P(o);return this.http.get(i,a).pipe(g.tap(function(t){return r.logger.request(i)}))},t.prototype.post=function(t,e,r){var n=this,o="string"==typeof t?t:"",i="object"==typeof t?t:e,a="object"==typeof e?e:r,s=this.getUrl(o),c=new P(a);return this.http.post(s,i,c).pipe(g.tap(function(t){return n.logger.request(s)}))},t.prototype.put=function(t,e,r){var n=this,o="string"==typeof t?t:"",i="object"==typeof t?t:e,a="object"==typeof e?e:r,s=this.getUrl(o),c=new P(a);return this.http.put(s,i,c).pipe(g.tap(function(t){return n.logger.request(s)}))},t.prototype.patch=function(t,e,r){var n=this,o="string"==typeof t?t:"",i="object"==typeof t?t:e,a="object"==typeof e?e:r,s=this.getUrl(o),c=new P(a);return this.http.patch(s,i,c).pipe(g.tap(function(t){return n.logger.request(s)}))},t.prototype["delete"]=function(t,e,r){var n=this,o="string"==typeof t?t:"",i="string"!=typeof t?t:e,a=i?"number"==typeof i?i:i.id:null,s="object"==typeof e?e:r,c=null!==a?this.getUrl(o+"/"+a):this.getUrl(o),u=new P(s);return this.http["delete"](c,u).pipe(g.tap(function(t){return n.logger.request(c)}))},t.prototype.toCamelCase=function(t){var e,r,n,o,i=this;if(t instanceof Array)return t.map(function(t){return"object"==typeof t&&(t=i.toCamelCase(t)),t});for(r in e={},t)t.hasOwnProperty(r)&&(n=(r.charAt(0).toLowerCase()+r.slice(1)||r).toString(),((o=t[r])instanceof Array||null!==o&&o.constructor===Object)&&(o=this.toCamelCase(o)),e[n]=o);return e},t.prototype.getStateKey=function(t,e){var r=function(t,e){return"number"==typeof e?t+=e.toString():"string"==typeof e?t+=e.substr(0,10):e&&"object"==typeof e&&(t+="_"+Object.keys(e).map(function(t){return t+"_"+r("",e[t])}).join("_")),t},n=(t=r(t,e)).replace(/(\W)/gm,"_");return a.makeStateKey(n)},t.prototype.stateGet=function(t,e){var r=this,n="string"==typeof t?t:"",o="object"==typeof t?t:e,i=this.getUrl(n),a=new P(o),s=this.getStateKey(i,o);if(l.isPlatformBrowser(this.platformId)&&this.state.hasKey(s)){var c=this.state.get(s,null);return this.state.remove(s),f.of(c)}return this.http.get(i,a).pipe(g.tap(function(t){l.isPlatformServer(r.platformId)&&r.state.onSerialize(s,function(){return t})}))},t.prototype.statePost=function(t,e,r){var n=this,o="string"==typeof t?t:"",i="object"==typeof t?t:e,a="object"==typeof e?e:r,s=this.getUrl(o),c=new P(a),u=this.getStateKey(s,i);if(l.isPlatformBrowser(this.platformId)&&this.state.hasKey(u)){var p=this.state.get(u,null);return this.state.remove(u),f.of(p)}return this.http.post(s,i,c).pipe(g.tap(function(t){l.isPlatformServer(n.platformId)&&n.state.onSerialize(u,function(){return t})}))},t.decorators=[{type:c.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:c.Injector}]},t.ngInjectableDef=c.defineInjectable({factory:function(){return new t(c.inject(c.INJECTOR))},token:t,providedIn:"root"}),t}(),k=function(){function t(){}return t.prototype["delete"]=function(t){},t.prototype.exist=function(t){return!1},t.prototype.get=function(t){return null},t.prototype.set=function(t,e,r){},t.prototype.on=function(){return f.of(null)},t.prototype.tryGet=function(){return this},t.decorators=[{type:c.Injectable,args:[{providedIn:"root"}]}],t.ngInjectableDef=c.defineInjectable({factory:function(){return new t},token:t,providedIn:"root"}),t}(),C=function(){function t(t,e){this.platformId=t,this.storageService=e}return t.prototype.tryGet=function(){return this.isSupported()?this:this.storageService.tryGet()},t.prototype["delete"]=function(t){this.setter(t,"",-1)},t.prototype.exist=function(t){return-1!==document.cookie.indexOf(";"+t+"=")||0===document.cookie.indexOf(t+"=")},t.prototype.get=function(t){for(var e=t+"=",r=document.cookie.split(";"),n=0;n<r.length;n++){for(var o=r[n];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(e)){var i=o.substring(e.length,o.length),a=null;try{a=JSON.parse(decodeURIComponent(atob(i)))}catch(s){console.log("Cookie.get.error parsing",t,s)}return a}}return null},t.prototype.set=function(t,e,r){try{var n=[],o=JSON.stringify(e,function(t,e){if("pool"!==t){if("object"==typeof e&&null!==e){if(-1!==n.indexOf(e))return;n.push(e)}return e}});n=null,this.setter(t,btoa(encodeURIComponent(o)),r)}catch(i){console.log("CookieSet.error serializing",t,e,i)}},t.prototype.on=function(){var t=1e3,e=3e5,r=0;return function n(){e<r||this.get(name)||(r+=t,setTimeout(n,t))}(),f.of(null)},t.prototype.setter=function(t,e,r){var n;if(r){var o=new Date;o.setTime(o.getTime()+24*r*60*60*1e3),n="; expires="+o.toUTCString()}else n="";document.cookie=t+"="+e+n+"; path=/"},t.prototype.isSupported=function(){return l.isPlatformBrowser(this.platformId)},t.decorators=[{type:c.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:String,decorators:[{type:c.Inject,args:[c.PLATFORM_ID]}]},{type:k}]},t.ngInjectableDef=c.defineInjectable({factory:function(){return new t(c.inject(c.PLATFORM_ID),c.inject(k))},token:t,providedIn:"root"}),t}(),D=function(){function t(t,e){this.platformId=t,this.cookieStorageService=e}return t.prototype.tryGet=function(){return this.isSupported()?this:this.cookieStorageService.tryGet()},t.prototype["delete"]=function(t){window.sessionStorage.removeItem(t)},t.prototype.exist=function(t){return window.sessionStorage[t]!==undefined},t.prototype.get=function(t){var e=null;if(window.sessionStorage[t]!==undefined)try{e=JSON.parse(window.sessionStorage[t])}catch(r){console.log("SessionStorage.get.error parsing",t,r)}return e},t.prototype.on=function(){return f.of(null)},t.prototype.set=function(t,e,r){try{var n=[],o=JSON.stringify(e,function(t,e){if("pool"!==t){if("object"==typeof e&&null!==e){if(-1!==n.indexOf(e))return;n.push(e)}return e}});n=null,window.sessionStorage.setItem(t,o)}catch(i){console.log("SessionStorage.set.error serializing",t,e,i)}},t.prototype.isSupported=function(){var t=!1;if(l.isPlatformBrowser(this.platformId))try{(t="sessionStorage"in window&&null!==window.sessionStorage)?(window.sessionStorage.setItem("test","1"),window.sessionStorage.removeItem("test")):t=!1}catch(e){t=!1}return t},t.decorators=[{type:c.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:String,decorators:[{type:c.Inject,args:[c.PLATFORM_ID]}]},{type:C}]},t.ngInjectableDef=c.defineInjectable({factory:function(){return new t(c.inject(c.PLATFORM_ID),c.inject(C))},token:t,providedIn:"root"}),t}(),T=function(){function t(t,e){this.platformId=t,this.cookieStorageService=e}return t.prototype.tryGet=function(){return this.isSupported()?this:this.cookieStorageService.tryGet()},t.prototype["delete"]=function(t){window.localStorage.removeItem(t)},t.prototype.exist=function(t){return window.localStorage[t]!==undefined},t.prototype.get=function(t){var e=null;if(window.localStorage[t]!==undefined)try{e=JSON.parse(window.localStorage[t])}catch(r){console.log("LocalStorage.get.error parsing",t,r)}return e},t.prototype.on=function(){return f.of(null)},t.prototype.set=function(t,e,r){try{var n=[],o=JSON.stringify(e,function(t,e){if("pool"!==t){if("object"==typeof e&&null!==e){if(-1!==n.indexOf(e))return;n.push(e)}return e}});n=null,window.localStorage.setItem(t,o)}catch(i){console.log("LocalStorage.set.error serializing",t,e,i)}},t.prototype.isSupported=function(){var t=!1;if(l.isPlatformBrowser(this.platformId))try{(t="localStorage"in window&&null!==window.localStorage)?(window.localStorage.setItem("test","1"),window.localStorage.removeItem("test")):t=!1}catch(e){t=!1}return t},t.decorators=[{type:c.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:String,decorators:[{type:c.Inject,args:[c.PLATFORM_ID]}]},{type:C}]},t.ngInjectableDef=c.defineInjectable({factory:function(){return new t(c.inject(c.PLATFORM_ID),c.inject(C))},token:t,providedIn:"root"}),t}(),_=function(){function t(t,e,r){this.platformId=t,this.injector=e,this.localStorageService=r,this.cachedRequests=[],this.paths=[]}return t.prototype.setToken=function(t){this.localStorageService.set("authToken",t),this.retryFailedRequests()},t.prototype.getToken=function(){return this.localStorageService.get("authToken")},t.prototype.getFakeToken=function(){return new u("fakeToken")},t.prototype.isValid=function(t){return t&&(t.expiresIn>Date.now()||0===t.expiresIn)},t.prototype.isAuthenticated=function(){var t=this.getToken();return this.isValid(t)},t.prototype.collectFailedRequest=function(t){this.cachedRequests.push(t)},t.prototype.retryFailedRequests=function(){},t.decorators=[{type:c.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:String,decorators:[{type:c.Inject,args:[c.PLATFORM_ID]}]},{type:c.Injector},{type:T}]},t.ngInjectableDef=c.defineInjectable({factory:function(){return new t(c.inject(c.PLATFORM_ID),c.inject(c.INJECTOR),c.inject(T))},token:t,providedIn:"root"}),t}(),R=new c.InjectionToken("core.bundles"),L=function(){function t(t,e,r){this.container=e,this.renderer=r,this.hasContent=!0,this.element=t.nativeElement}return t.prototype.ngAfterContentChecked=function(){var t=!1;console.log("DefaultContentDirective",this.element.childNodes);for(var e=this.element.childNodes.length-1;0<=e;--e){var r=this.element.childNodes[e];if(1===r.nodeType||3===r.nodeType){t=!0;break}}t!==this.hasContent&&((this.hasContent=t)?this.container.clear():this.container.createEmbeddedView(this["default"]))},t.decorators=[{type:c.Directive,args:[{selector:"[default]"}]}],t.ctorParameters=function(){return[{type:c.ElementRef},{type:c.ViewContainerRef},{type:c.Renderer2}]},t.propDecorators={"default":[{type:c.Input}]},t}(),E=function(){function t(){this.version="0.0.13"}return t.prototype.ngOnInit=function(){},t.decorators=[{type:c.Component,args:[{selector:"core-module",template:'<span class="core-module">core {{version}}</span>'}]}],t.ctorParameters=function(){return[]},t}(),x=function(){function t(t,e,r,n){this.bundles=t,this.injector=e,this.loader=r,this.container=n}return t.prototype.ngOnInit=function(){var i=this;this.loader.load(this.bundles[this.bundle]).then(function(t){var e=t.create(i.injector),r=(i.moduleRef_=e).injector.get("LAZY_ROOT_COMPONENT"),n=e.componentFactoryResolver.resolveComponentFactory(r),o=i.container.createComponent(n);o.instance;i.componentRef_=o})},t.prototype.ngOnDestroy=function(){this.componentRef_&&this.componentRef_.destroy(),this.moduleRef_&&this.moduleRef_.destroy()},t.decorators=[{type:c.Directive,args:[{selector:"[bundle]"}]}],t.ctorParameters=function(){return[{type:undefined,decorators:[{type:c.Inject,args:[R]}]},{type:c.Injector},{type:c.NgModuleFactoryLoader},{type:c.ViewContainerRef}]},t.propDecorators={bundle:[{type:c.Input}],data:[{type:c.Input}]},t}(),M=function(){function t(){this.unsubscribe=new f.Subject}return t.prototype.ngOnDestroy=function(){this.unsubscribe.next(),this.unsubscribe.complete()},t.decorators=[{type:c.Component,args:[{template:""}]}],t}(),N=function(){function t(){}return t.prototype.transform=function(t,e){if(!e)return t;t=this.encodeHTML(t),e=this.encodeHTML(e);var r=new RegExp("&[^;]+;|"+this.escapeRegexChars(e),"gi");return t.replace(r,function(t){return t.toLowerCase()===e.toLowerCase()?"<strong>"+t+"</strong>":t})},t.prototype.escapeRegexChars=function(t){return t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},t.prototype.safeToString=function(t){return t===undefined||null===t?"":t.toString().trim()},t.prototype.encodeHTML=function(t){return this.safeToString(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},t.decorators=[{type:c.Pipe,args:[{name:"highlight"}]},{type:c.Injectable,args:[{providedIn:"root"}]}],t.ngInjectableDef=c.defineInjectable({factory:function(){return new t},token:t,providedIn:"root"}),t}(),F=function(){function t(t){this.location=t}return t.prototype.transform=function(t){var e=(t=null!=t?Array.isArray(t)?t:t.split("/"):[]).join("/");return 0!==(e=this.location.normalize(e)).indexOf("/")&&(e="/"+e),t=e.split("/")},t.decorators=[{type:c.Pipe,args:[{name:"segment"}]},{type:c.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:l.Location}]},t.ngInjectableDef=c.defineInjectable({factory:function(){return new t(c.inject(l.Location))},token:t,providedIn:"root"}),t}(),V=function(r){function t(t){var e=r.call(this,t)||this;return e.injector=t,e}return h(t,r),Object.defineProperty(t.prototype,"collection",{get:function(){return"/api/identity"},enumerable:!0,configurable:!0}),t.prototype.getDetailById=function(t){return this.get({id:t})},t.decorators=[{type:c.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:c.Injector}]},t.ngInjectableDef=c.defineInjectable({factory:function(){return new t(c.inject(c.INJECTOR))},token:t,providedIn:"root"}),t}(O),A=function(r){function s(t){var e=r.call(this,t)||this;return e.injector=t,e.events=new c.EventEmitter,e.language_=new f.BehaviorSubject(undefined),e.languages_=new f.BehaviorSubject([]),e.languages_.next(e.config.languages),e}return h(s,r),Object.defineProperty(s.prototype,"collection",{get:function(){return"/api/translate"},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"lang",{get:function(){return s.lang_},set:function(e){if(e!==s.lang_){s.lang_=e;var t=this.languages_.getValue();if(t.length){var r=t.find(function(t){return t.lang===e});this.language_.next(r)}}},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"language",{get:function(){return this.language_.getValue()},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"languages",{get:function(){return this.languages_.getValue()},enumerable:!0,configurable:!0}),s.prototype.observe$=function(){var e=this;return this.language_.pipe(g.filter(function(t){return t!==undefined}),g.switchMap(function(t){return e.getTranslation(t.lang)}))},s.prototype.getTranslation=function(r){var n=this;return r&&r.trim()?(s.lang_=r,s.cache[r]?f.of(s.cache[r]):this.get("?lang="+r,{lang:r}).pipe(g.map(function(t){if(t.length&&t[0]){var e=t[0].labels;return s.cache[r]=e,n.events.emit(e),e}return f.of(null)}))):f.of(null)},s.prototype.getTranslate=function(t,e,r){if(t){var n=null,o=s.cache[s.lang_];if(o){for(var i=t.split("."),a=i.shift();0<i.length&&o[a];)o=o[a],a=i.shift();"string"!=typeof(n=o[a])&&(n=null)}return this.parseTranslate(n,t,e,r)}},s.prototype.transform=function(t,e,r){return this.getTranslate(t,e,r)},s.prototype.parseTranslate=function(t,e,r,n){return null==t?r||this.missingTranslate(e):n?this.parseParams(t,n):t},s.prototype.missingTranslate=function(t){return this.missingHandler?"function"==typeof this.missingHandler?this.missingHandler(t):this.missingHandler:t},s.prototype.parseParams=function(t,n){return t.replace(/@([^{}\s]*)/g,function(t,e){var r=n[e];return void 0!==r?r:t})},s.prototype.use=function(t){},s.prototype.setDefaultLang=function(t){},s.prototype.addLangs=function(t){},s.prototype.getBrowserLang=function(){return l.isPlatformBrowser(this.platformId)&&this.getFirstBrowserLang()||this.config.defaultLanguage},s.prototype.getFirstBrowserLang=function(){var t=this.getFirstBrowserLocale();if(t)return t.split("-")[0]},s.prototype.getFirstBrowserLocale=function(){var t,e=window.navigator,r=["language","browserLanguage","systemLanguage","userLanguage"];Array.isArray(e.languages)&&(t=e.languages[0]);for(var n=0;!t&&n<r.length;)t=e[r[n]],n++;return t},s.cache={},s.lang_=null,s.decorators=[{type:c.Injectable,args:[{providedIn:"root"}]}],s.ctorParameters=function(){return[{type:c.Injector}]},s.ngInjectableDef=c.defineInjectable({factory:function(){return new s(c.inject(c.INJECTOR))},token:s,providedIn:"root"}),s}(V),B=function(){function t(t,e,r,n,o,i,a,s){this.platformId=t,this.coreService=e,this.injector=r,this.translateService=n,this.location=o,this.route=i,this.router=a,this.segment=s,this._language=new f.BehaviorSubject({}),this.language=this._language.asObservable(),this._languages=new f.BehaviorSubject([]),this.languages=this._languages.asObservable(),this.pageParams$=new f.BehaviorSubject({}),this.urlStrategy=this.coreService.options.urlStrategy,this._languages.next(this.coreService.options.languages),this.currentMarket=this.coreService.options.defaultMarket,this.setLanguages(),(this.coreService.options.useLang||this.coreService.options.useMarket)&&this.subscribeToRouter()}return Object.defineProperty(t.prototype,"lang",{get:function(){return this._lang},set:function(e){if(e!==this._lang){this._lang=e;var t=this._languages.getValue().find(function(t){return t.lang===e});if(this._language.next(t),this.translateService.use(e),this.coreService.options.useLang){var r=this._lang,n=this.location.path();0===n.indexOf("/"+r)?n=n.replace("/"+r,"/"+e):0!==n.indexOf("/"+e)&&(n="/"+e+n),this.path=n}}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentLang",{get:function(){return this._lang},enumerable:!0,configurable:!0}),t.prototype.getPageParams=function(){var r=this;return this.route.queryParams.pipe(g.distinctUntilChanged(),g.switchMap(function(t){var e=r.parseParams(t);return r.pageParams$.next(e),f.of(e)}))},t.prototype.parseParams=function(e){var r=this,n={};return Object.keys(e).forEach(function(t){return n[t]=r.parse(e[t])}),n},t.prototype.serializeParams=function(e){var r=this,n={};return Object.keys(e).forEach(function(t){return n[t]=r.serialize(e[t])}),n},t.prototype.parse=function(t){try{return l.isPlatformBrowser(this.platformId)?JSON.parse(window.atob(t)):JSON.parse(Buffer.from(t,"base64").toString("ascii"))}catch(e){return null}},t.prototype.serialize=function(t){return l.isPlatformBrowser(this.platformId)?window.btoa(JSON.stringify(t)):Buffer.from(JSON.stringify(t),"ascii").toString("base64")},t.prototype.getId=function(){return+this.route.snapshot.paramMap.get("id")},t.prototype.getSlug=function(){return this.route.snapshot.paramMap.get("slug")},t.prototype.toRoute=function(t){var e=this.segment.transform(t);if(this.coreService.options.useMarket){var r=this.currentMarket,n=this.urlStrategy.split("/").indexOf(":market");e.splice(n,0,r)}if(this.coreService.options.useLang){var o=this._lang,i=this.urlStrategy.split("/").indexOf(":lang");e.splice(i,0,o)}return e},t.prototype.toSlug=function(t){var e=this.segment.transform(t),r=e.filter(function(t){return"string"==typeof t}),n=e.filter(function(t){return"string"!=typeof t});if(this.coreService.options.useMarket){var o=this.urlStrategy.split("/").indexOf(":market");r.length>o&&(r[o]="*")}if(this.coreService.options.useLang){var i=this.urlStrategy.split("/").indexOf(":lang");r.length>i&&(r[i]="*")}return(r=r.join("/").replace(/\/\*/gi,"").split("/")).concat(n)},t.prototype.toParams=function(t){return{data:window.btoa(JSON.stringify(t))}},t.prototype.toData=function(t){if(t&&t.data)return JSON.parse(window.atob(t.data))},t.prototype.setLanguage=function(t,e){this.lang=t,this.coreService.options.useLang&&this.path&&(e?this.location.replaceState(this.path):this.router.navigate([this.path]))},t.prototype.setLanguages=function(){this.translateService.addLangs(this.coreService.options.languages?this.coreService.options.languages.map(function(t){return t.lang}):[]),this.translateService.setDefaultLang(this.coreService.options.defaultLanguage),this.setLanguage(this.coreService.options.defaultLanguage,!0)},t.prototype.subscribeToRouter=function(){var i=this;this.router.events.pipe(g.filter(function(t){return t instanceof r.NavigationStart})).subscribe(function(t){var e=i.location.normalize(t.url).split("/");if(i.coreService.options.useMarket){var r=e[i.urlStrategy.split("/").indexOf(":market")];r!==i.currentMarket&&(i.currentMarket=r)}if(i.coreService.options.useLang){var n=e[i.urlStrategy.split("/").indexOf(":lang")];if(n!==i._lang){var o=i._languages.getValue().find(function(t){return t.lang===n});i._language.next(o),i.translateService.use(n)}}})},t.prototype.detectLanguage=function(){var t=null;if(l.isPlatformServer(this.platformId)){var e=this.injector.get("request");if(e){var r=(t=e.headers["accept-language"]).match(/[a-zA-Z\-]{2,10}/g)||[];t=0<r.length?r[0].split("-")[0]:null}}else l.isPlatformBrowser(this.platformId)&&(t=this.translateService.getBrowserLang());var n=this.coreService.options.defaultLanguage,o=new RegExp("("+(this.coreService.options.languages?this.coreService.options.languages.map(function(t){return t.lang}).join("|"):"")+")","gi"),i=(t||"").match(o);return n=i?i[0]:n},t.prototype.getTime=function(){if(l.isPlatformBrowser(this.platformId))return(performance||Date).now();var t=process.hrtime();return(1e9*t[0]+t[1])/1e6},t.prototype.start=function(){t.startTime=this.getTime()},t.prototype.end=function(){t.endTime=this.getTime(),console.log("RouteService.end",t.endTime-t.startTime)},t.decorators=[{type:c.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:String,decorators:[{type:c.Inject,args:[c.PLATFORM_ID]}]},{type:S},{type:c.Injector},{type:A},{type:l.Location},{type:r.ActivatedRoute},{type:r.Router},{type:F}]},t.ngInjectableDef=c.defineInjectable({factory:function(){return new t(c.inject(c.PLATFORM_ID),c.inject(S),c.inject(c.INJECTOR),c.inject(A),c.inject(l.Location),c.inject(r.ActivatedRoute),c.inject(r.Router),c.inject(F))},token:t,providedIn:"root"}),t}(),$=function(){function t(){this.statusCode=200,this.redirectUrl=null}return t.prototype.setStatusCode=function(t,e){void 0===e&&(e=null),this.statusCode=t,this.redirectUrl=e},t.prototype.getStatusCode=function(){return 309===this.statusCode?301:this.statusCode},t.prototype.getRedirectUrl=function(){return this.redirectUrl},t.decorators=[{type:c.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[]},t.ngInjectableDef=c.defineInjectable({factory:function(){return new t},token:t,providedIn:"root"}),t}(),H=function(){function t(t,e){this.injector=t,this.statusCodeService=e,this.loggerErrorStrategy_=m.Server,this.loggerErrorStrategy_=this.config.loggerErrorStrategy||m.Server}return Object.defineProperty(t.prototype,"config",{get:function(){return this.config_||(this.config_=this.injector.get(S).options),this.config_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logger",{get:function(){return this.logger_||(this.logger_=this.injector.get(w)),this.logger_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"router",{get:function(){return this.router_||(this.router_=this.injector.get(r.Router)),this.router_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"routeService",{get:function(){return this.routeService_||(this.routeService_=this.injector.get(B)),this.routeService},enumerable:!0,configurable:!0}),t.prototype.intercept=function(t,e){var r=this;return e.handle(t).pipe(g.tap(function(t){r.logger.httpError=null,t instanceof n.HttpResponse&&t.status>=r.loggerErrorStrategy_&&r.logger.http(t)}),g.catchError(function(t){return t instanceof n.HttpErrorResponse&&t.status>=r.loggerErrorStrategy_&&r.logger.http(t),f.throwError(t)}))},t.decorators=[{type:c.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:c.Injector},{type:$}]},t.ngInjectableDef=c.defineInjectable({factory:function(){return new t(c.inject(c.INJECTOR),c.inject($))},token:t,providedIn:"root"}),t}(),J=function(){function t(t){this.platformId=t}return t.prototype.ngOnChanges=function(){if(l.isPlatformBrowser(this.platformId)){if(!i.isObject(this.json)&&!i.isArray(this.json))return;this.elementRef&&this.input.nativeElement.removeChild(this.elementRef.nativeElement);var t=new o(this.json).render();this.input.nativeElement.appendChild(t),this.elementRef=new c.ElementRef(t)}},t.decorators=[{type:c.Component,args:[{selector:"json-formatter",template:"<div #jsonFormatter></div>",encapsulation:c.ViewEncapsulation.Emulated,styles:[""]}]}],t.ctorParameters=function(){return[{type:String,decorators:[{type:c.Inject,args:[c.PLATFORM_ID]}]}]},t.propDecorators={input:[{type:c.ViewChild,args:["jsonFormatter"]}],json:[{type:c.Input}]},t}(),U=function(r){function t(t){var e=r.call(this,t)||this;return e.injector=t,e.keys={},e.values$=new f.BehaviorSubject({}),e.emitter$=new c.EventEmitter,e}return h(t,r),Object.defineProperty(t.prototype,"collection",{get:function(){return"/api/label"},enumerable:!0,configurable:!0}),t.prototype.transform=function(t,e,r){var n=this.values$.getValue();return n.hasOwnProperty(t)?this.parseLabel(n[t],r):this.keys.hasOwnProperty(t)?void 0:(n[t]=null,Object.defineProperty(this.keys,t,{value:{id:t,defaultValue:e},enumerable:!0,writable:!1}),this.emitter$.emit(),null)},t.prototype.transform$=function(e,t,r){var n=this,o=this.values$.getValue();return o.hasOwnProperty(e)?f.of(this.parseLabel(o[e],r)):(this.keys.hasOwnProperty(e)||(o[e]=null,Object.defineProperty(this.keys,e,{value:{id:e,defaultValue:t},enumerable:!0,writable:!1}),this.emitter$.emit()),this.values$.pipe(g.map(function(t){return n.parseLabel(t[e],r)})))},t.prototype.observe$=function(){var e=this;return this.emitter$.pipe(g.debounceTime(1),g.switchMap(function(t){return e.collect$()}),g.filter(function(t){return null!==t}))},t.prototype.collect$=function(){var n=this;if(Object.keys(this.keys).length){var o=Object.keys(this.keys).map(function(t){return n.keys[t]});return this.keys={},this.statePost(o).pipe(g.map(function(t){return t.reduce(function(t,e){return t[e.id]=n.getLabel(e),t},{})}),g.tap(function(t){var e=n.values$.getValue();Object.assign(e,t),n.values$.next(e)}),g.catchError(function(t){console.log(t);var e=o.reduce(function(t,e){return t[e.id]=n.getLabel(e),t},{}),r=n.values$.getValue();return Object.assign(r,e),f.of(null)}))}return f.of(null)},t.prototype.parseLabel=function(t,n){if(t&&n){return t.replace(/@([^{}\s]*)/g,function(t,e){var r=n[e];return void 0!==r?r:t})}return t},t.prototype.getLabel=function(t){return t.value||t.defaultValue||this.getMissingLabel(t)},t.prototype.getMissingLabel=function(t){return"function"==typeof this.missingHandler?this.missingHandler(t):t.id},t.decorators=[{type:c.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:c.Injector}]},t.ngInjectableDef=c.defineInjectable({factory:function(){return new t(c.inject(c.INJECTOR))},token:t,providedIn:"root"}),t}(O),q=function(n){function t(t,e){var r=n.call(this)||this;return r.element=t,r.labelService=e,r}return h(t,n),t.prototype.ngOnInit=function(){var e=this;this.labelService.transform$(this.label,this.element.nativeElement.innerHTML,this.labelParams).pipe(g.takeUntil(this.unsubscribe)).subscribe(function(t){e.element.nativeElement.innerHTML=t})},t.decorators=[{type:c.Directive,args:[{selector:"[label]"}]}],t.ctorParameters=function(){return[{type:c.ElementRef},{type:U}]},t.propDecorators={label:[{type:c.Input}],labelParams:[{type:c.Input}]},t}(M),z=function(){function t(t){this.labelService=t}return t.prototype.transform=function(t,e,r){return this.labelService.transform(t,e,r)},t.decorators=[{type:c.Pipe,args:[{name:"label",pure:!1}]},{type:c.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:U}]},t.ngInjectableDef=c.defineInjectable({factory:function(){return new t(c.inject(U))},token:t,providedIn:"root"}),t}(),G=function(){function t(t){this.logger=t}return t.prototype.ngOnInit=function(){},t.decorators=[{type:c.Component,args:[{selector:"core-logger",template:'<div class="error-http" [ngClass]="\'http--\' + logger.httpError.statusType" *ngIf="logger.httpError">\r\n\t<span>{{logger.httpError.statusType}}</span>&nbsp;\r\n\t<span class="status">{{logger.httpError.status}}</span>&nbsp;\r\n\t<span class="url">{{logger.httpError.url}}</span>&nbsp;\r\n\t<span class="message">{{logger.httpError.body?.error}}</span>\r\n</div>\r\n\x3c!--\r\n<div *ngIf="logger.logs.length">\r\n\t<ul class="list-group ">\r\n\t\t<li class="list-group-item">\r\n\t\t\t<button type="button" class="btn btn-outline-primary btn-sm float-right" (click)="logger.clear()" title="Clear Logs">{{ \'app.clear\' | translate }}</button>\r\n\t\t</li>\r\n\t\t<li class="list-group-item" *ngFor=\'let log of logger.logs\'>\r\n\t\t\t<span>{{log}}</span>\r\n\t\t</li>\r\n\t</ul>\r\n\t<br>\r\n</div>\r\n--\x3e\r\n',encapsulation:c.ViewEncapsulation.Emulated,styles:[".error-http{padding:15px;max-width:1140px;margin:0 auto 10px;background:#faebd7;font-size:13px;font-family:monospace;color:#d2691e}"]}]}],t.ctorParameters=function(){return[{type:w}]},t}(),K=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return h(e,t),e.decorators=[{type:c.Component,args:[{selector:"outlet-content-component",template:'<div class="outlet">Outlet not found!</div>'}]}],e.propDecorators={outlet:[{type:c.Input}]},e}(M),Z=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return h(e,t),e.decorators=[{type:c.Component,args:[{selector:"outlet-repeater-component",template:'<ng-container *ngFor="let outlet of outlets"><outlet-component [outlet]="outlet"></outlet-component></ng-container>'}]}],e.propDecorators={outlets:[{type:c.Input}]},e}(M),W=new c.InjectionToken("core.outlets"),Y=function Vt(){},Q=function(){function t(t){t=t||{}}return t.prototype.resolve=function(t){return t&&this.outlets[t.component]||K},t.decorators=[{type:c.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:undefined,decorators:[{type:c.Inject,args:[W]}]}]},t.ngInjectableDef=c.defineInjectable({factory:function(){return new t(c.inject(W))},token:t,providedIn:"root"}),t}(),X=function(n){function t(t,e){var r=n.call(this)||this;return r.componentFactoryResolver=t,r.outletResolverService=e,r}return h(t,n),t.prototype.ngOnInit=function(){var t=this.outletResolverService.resolve(this.outlet),e=this.componentFactoryResolver.resolveComponentFactory(t);this.viewContainerRef.clear();var r=this.viewContainerRef.createComponent(e),n=r.instance;n.outlet=this.outlet,"function"==typeof n.OutletInit&&n.OutletInit(),this.componentRef=r},t.prototype.ngOnDestroy=function(){this.componentRef.destroy()},t.decorators=[{type:c.Component,args:[{selector:"outlet-component",template:""}]}],t.ctorParameters=function(){return[{type:c.ComponentFactoryResolver},{type:Q}]},t.propDecorators={outlet:[{type:c.Input}],viewContainerRef:[{type:c.ViewChild,args:["outlet",{read:c.ViewContainerRef}]}]},t}(M),tt=function(){function t(t,e){this.coreService=t,this.segment=e}return t.prototype.transform=function(t){if("string"!=typeof t||0!==t.indexOf("http")&&0!==t.indexOf("/media/")){var e=this.segment.transform(t);return e.unshift(this.coreService.options.assets),e.join("/")}return t},t.decorators=[{type:c.Pipe,args:[{name:"asset"}]},{type:c.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:S},{type:F}]},t.ngInjectableDef=c.defineInjectable({factory:function(){return new t(c.inject(S),c.inject(F))},token:t,providedIn:"root"}),t}(),et=function(){function t(t){this.changeDetector=t,this.subject=null,this.subscription=null,this.value=null,this.cachedValue=null}return t.prototype.transform=function(t){return this.observableToValue(t)},t.prototype.observableToValue=function(t){var e=this;return t!==this.subject&&(this.subject&&this.dispose(),t)?(this.subject=t,this.subscription=this.subject.subscribe(function(t){e.value=t,e.changeDetector.markForCheck()}),this.cachedValue=this.value,this.value):this.cachedValue!==this.value?(this.cachedValue=this.value,c.WrappedValue.wrap(this.value)):this.cachedValue},t.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe(),this.value=null,this.cachedValue=null,this.subscription=null,this.subject=null},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype._observableToValue=function(t){var e=this;return this.subject?t!==this.subject?(this.dispose(),this.transform(t)):this.value===this.cachedValue?this.cachedValue:(this.cachedValue=this.value,c.WrappedValue.wrap(this.value)):(t&&(this.subject=t,this.subscription=this.subject.subscribe(function(t){e.value=t,e.changeDetector.markForCheck()})),this.cachedValue=this.value,this.value)},t.decorators=[{type:c.Pipe,args:[{name:"customAsync",pure:!1}]}],t.ctorParameters=function(){return[{type:c.ChangeDetectorRef}]},t}(),rt={Default:1,Gallery:2,Share:3};rt[rt.Default]="Default",rt[rt.Gallery]="Gallery",rt[rt.Share]="Share";var nt=function At(){},ot=function(){function t(){}return t.prototype.transform=function(t,e,r){r=r?"?"+r:"";var n=rt[e=e||"Default"]||rt.Default,o=null;return t&&t.length&&(o=t.find(function(t){return t.type===n})||t[0]),o?(o.url+r).replace(/ /g,"%20"):null},t.decorators=[{type:c.Pipe,args:[{name:"imageUrl"}]},{type:c.Injectable,args:[{providedIn:"root"}]}],t.ngInjectableDef=c.defineInjectable({factory:function(){return new t},token:t,providedIn:"root"}),t}(),it=function(){function t(){}return t.prototype.transform=function(t,e,r){var n=rt[e=e||"Default"]||rt.Default;return t&&t.length&&t.find(function(t){return t.type===n})||null},t.prototype.transform__=function(t,e,r){r=r?"?"+r:"";var n=rt[e=e||"Default"]||rt.Default,o=null;return t&&t.length&&((o=t.find(function(t){return t.type===n}))||n===rt.Default||(o=t.find(function(t){return t.type===rt.Default}))),o?(o.url+r).replace(/ /g,"%20"):null},t.decorators=[{type:c.Pipe,args:[{name:"image"}]},{type:c.Injectable,args:[{providedIn:"root"}]}],t.ngInjectableDef=c.defineInjectable({factory:function(){return new t},token:t,providedIn:"root"}),t}(),at=function(){function t(t,e){this.coreService=t,this.segment=e}return t.prototype.transform=function(t){var e=this.segment.transform(t);return e.unshift(this.coreService.options["public"]),e.join("/")},t.decorators=[{type:c.Pipe,args:[{name:"public"}]},{type:c.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:S},{type:F}]},t.ngInjectableDef=c.defineInjectable({factory:function(){return new t(c.inject(S),c.inject(F))},token:t,providedIn:"root"}),t}(),st=function(){function t(t){this.routeService=t}return t.prototype.transform=function(t){return this.routeService.toRoute(t)},t.decorators=[{type:c.Pipe,args:[{name:"route",pure:!1}]},{type:c.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:B}]},t.ngInjectableDef=c.defineInjectable({factory:function(){return new t(c.inject(B))},token:t,providedIn:"root"}),t}(),ct=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return h(e,t),Object.defineProperty(e.prototype,"collection",{get:function(){return"/api/entity"},enumerable:!0,configurable:!0}),e.prototype.getDetailByName=function(t){return t.trim()?this.get({name:t}):f.of([])},e.decorators=[{type:c.Injectable,args:[{providedIn:"root"}]}],e.ngInjectableDef=c.defineInjectable({factory:function(){return new e(c.inject(c.INJECTOR))},token:e,providedIn:"root"}),e}(V),ut=function(r){function t(t){var e=r.call(this,t)||this;return e.injector=t,e.keys={},e.values$=new f.BehaviorSubject({}),e.emitter$=new c.EventEmitter,e}return h(t,r),Object.defineProperty(t.prototype,"collection",{get:function(){return"/api/slug"},enumerable:!0,configurable:!0}),t.prototype.transform=function(t){var e=this.values$.getValue();return e.hasOwnProperty(t)?e[t]:this.keys.hasOwnProperty(t)?void 0:(e[t]=null,Object.defineProperty(this.keys,t,{value:{mnemonic:t},enumerable:!0,writable:!1}),this.emitter$.emit(),null)},t.prototype.transform$=function(e){var t=this.values$.getValue();return t.hasOwnProperty(e)?f.of(t[e]):(this.keys.hasOwnProperty(e)||(Object.defineProperty(this.keys,e,{value:{mnemonic:e},enumerable:!0,writable:!1}),this.emitter$.emit()),this.values$.pipe(g.map(function(t){return t[e]})))},t.prototype.observe$=function(){var e=this;return this.emitter$.pipe(g.debounceTime(1),g.switchMap(function(t){return e.collect$()}),g.filter(function(t){return null!==t}),g.first())},t.prototype.collect$=function(){var n=this;if(Object.keys(this.keys).length){var o=Object.keys(this.keys).map(function(t){return n.keys[t]});return this.keys={},this.statePost(o).pipe(g.map(function(t){return t.reduce(function(t,e){return t[e.mnemonic]=[e.slug],t},{})}),g.tap(function(t){var e=n.values$.getValue();Object.assign(e,t),n.values$.next(e)}),g.catchError(function(t){console.log(t);var e=o.reduce(function(t,e){return t[e.mnemonic]=null,t},{}),r=n.values$.getValue();return Object.assign(r,e),f.of(null)}))}return f.of(null)},t.decorators=[{type:c.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:c.Injector}]},t.ngInjectableDef=c.defineInjectable({factory:function(){return new t(c.inject(c.INJECTOR))},token:t,providedIn:"root"}),t}(ct),pt=function(){function t(t,e){this.slugService=t,this.routePipe=e}return t.prototype.transform=function(t,e){var r=this.slugService.transform(t);if(r){var n=this.routePipe.transform(r);return n&&e&&(n=n.concat(e)),n}return[]},t.decorators=[{type:c.Pipe,args:[{name:"slug",pure:!1}]},{type:c.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:ut},{type:st}]},t.ngInjectableDef=c.defineInjectable({factory:function(){return new t(c.inject(ut),c.inject(st))},token:t,providedIn:"root"}),t}(),lt=function(n){function t(t,e){var r=n.call(this)||this;return r.element=t,r.translateService=e,r}return h(t,n),t.prototype.ngOnInit=function(){var e=this;this.translateService.getTranslate(this.translate,this.element.nativeElement.innerHTML,this.translateParams).pipe(g.takeUntil(this.unsubscribe)).subscribe(function(t){e.element.nativeElement.innerHTML=t})},t.decorators=[{type:c.Directive,args:[{selector:"[translate]"}]}],t.ctorParameters=function(){return[{type:c.ElementRef},{type:A}]},t.propDecorators={translate:[{type:c.Input}],translateParams:[{type:c.Input}]},t}(M),ft=function(){function t(t,e){var r=this;this.ref=t,this.translateService=e,this.translateService.events.subscribe(function(t){return r.ref.markForCheck()})}return t.prototype.transform=function(t,e,r){return this.translateService.getTranslate(t,e,r)},t.decorators=[{type:c.Pipe,args:[{name:"translate",pure:!1}]},{type:c.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:c.ChangeDetectorRef},{type:A}]},t.ngInjectableDef=c.defineInjectable({factory:function(){return new t(c.inject(c.ChangeDetectorRef),c.inject(A))},token:t,providedIn:"root"}),t}(),gt=function(){function t(t){this.sanitizer=t}return t.prototype.transform=function(t){return this.sanitizer.bypassSecurityTrustStyle(t)},t.decorators=[{type:c.Pipe,args:[{name:"safeStyle"}]},{type:c.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:a.DomSanitizer}]},t.ngInjectableDef=c.defineInjectable({factory:function(){return new t(c.inject(a.DomSanitizer))},token:t,providedIn:"root"}),t}(),ht=function(){function t(t){this.sanitizer=t}return t.prototype.transform=function(t){return this.sanitizer.bypassSecurityTrustResourceUrl(t)},t.decorators=[{type:c.Pipe,args:[{name:"safeUrl"}]},{type:c.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:a.DomSanitizer}]},t.ngInjectableDef=c.defineInjectable({factory:function(){return new t(c.inject(a.DomSanitizer))},token:t,providedIn:"root"}),t}(),dt=function(){function t(t){this.sanitizer=t}return t.prototype.transform=function(t){return this.sanitizer.bypassSecurityTrustHtml(t)},t.decorators=[{type:c.Pipe,args:[{name:"safeHtml"}]}],t.ctorParameters=function(){return[{type:a.DomSanitizer}]},t}(),yt=[E,M,J,G,X,K,Z],mt=[x,L,q,lt],vt=[tt,et,N,it,ot,z,at,st,gt,ht,F,pt,ft,dt],bt=[],jt=function(){function r(t){}return r.forRoot=function(t,e){return{ngModule:r,providers:[{provide:I,useValue:e},{provide:R,useValue:t||{}}]}},r.decorators=[{type:c.NgModule,args:[{imports:[l.CommonModule,n.HttpClientModule,e.FormsModule,e.ReactiveFormsModule],providers:y([{provide:n.HTTP_INTERCEPTORS,useClass:H,multi:!0},{provide:c.NgModuleFactoryLoader,useClass:c.SystemJsNgModuleLoader}],bt),declarations:y(yt,mt,vt,bt),entryComponents:y(yt),exports:y(yt,mt,vt,bt)}]}],r.ctorParameters=function(){return[{type:r,decorators:[{type:c.Optional},{type:c.SkipSelf}]}]},r}(),It=function Bt(){},St=function $t(){},wt=function Ht(){},Pt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return h(e,t),Object.defineProperty(e.prototype,"collection",{get:function(){return"/api/document"},enumerable:!0,configurable:!0}),e.prototype.getDetailBySlug=function(t){return t.trim()?this.get({slug:t}).pipe(g.switchMap(function(t){return f.of(t[0])})):f.of()},e.decorators=[{type:c.Injectable,args:[{providedIn:"root"}]}],e.ngInjectableDef=c.defineInjectable({factory:function(){return new e(c.inject(c.INJECTOR))},token:e,providedIn:"root"}),e}(ct),Ot=function Jt(){},kt=function(){function t(){this.emitter=new c.EventEmitter}return t.prototype.emit=function(t){return this.emitter.emit(t)},t.prototype.observe=function(){return this.emitter.pipe(g.tap(function(t){return console.log("EventDispatcherService",t)}))},t.decorators=[{type:c.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[]},t.ngInjectableDef=c.defineInjectable({factory:function(){return new t},token:t,providedIn:"root"}),t}(),Ct=function Ut(){this.readmore=!1},Dt=function qt(){},Tt=function zt(t){t&&(Object.assign(this,t),t.items&&(this.items=t.items.map(function(t){return new zt(t)})))},_t=function(r){function t(t){var e=r.call(this,t)||this;return e.injector=t,e}return h(t,r),Object.defineProperty(t.prototype,"collection",{get:function(){return"/api/menu"},enumerable:!0,configurable:!0}),t.decorators=[{type:c.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:c.Injector}]},t.ngInjectableDef=c.defineInjectable({factory:function(){return new t(c.inject(c.INJECTOR))},token:t,providedIn:"root"}),t}(ct),Rt=function Gt(){},Lt=function(){function t(t,e){this.platformId=t,this.zone=e,this.uid=0,this.paths=[]}return t.prototype.script=function(t,e){if(l.isPlatformBrowser(this.platformId)){if(-1!==this.paths.indexOf(t))return f.of(new Event("loaded!"));var r;this.paths.push(t),!0===e?(r="OnceCallback"+ ++this.uid,t=t.split("{{callback}}").join(r)):r=e;var n=void 0,o=document.createElement("script");o.type="text/javascript",n=e?f.from(new Promise(function(e,t){window[r]=function(t){e(t)}})):(o.async=!0,f.fromEvent(o,"load").pipe(g.map(function(t){return t})));var i=document.getElementsByTagName("script");if(i.length){var a=i[i.length-1];a.parentNode.insertBefore(o,a.nextSibling)}return o.src=t,n}return f.of(null)},t.decorators=[{type:c.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:String,decorators:[{type:c.Inject,args:[c.PLATFORM_ID]}]},{type:c.NgZone}]},t.ngInjectableDef=c.defineInjectable({factory:function(){return new t(c.inject(c.PLATFORM_ID),c.inject(c.NgZone))},token:t,providedIn:"root"}),t}(),Et=function Kt(){};t.ApiRequestOptions=P,t.ApiService=O,t.AuthStrategy=s,t.AuthToken=u,t.AuthService=_,t.BUNDLES=R,t.CoreConfig=j,t.CORE_CONFIG=I,t.CoreService=S,t.DefaultContentDirective=L,t.CoreModuleComponent=E,t.CoreModule=jt,t.DisposableComponent=M,t.HighlightPipe=N,t.HttpResponseInterceptor=H,t.HttpStatusCodeService=$,t.JsonFormatterComponent=J,t.Label=It,t.LabelDirective=q,t.LabelPipe=z,t.LabelService=U,t.LoggerErrorStrategy=m,t.LoggerComponent=G,t.Logger=w,t.Document=St,t.DocumentIndex=wt,t.DocumentService=Pt,t.Entity=Ot,t.EntityService=ct,t.EventDispatcherService=kt,t.Feature=Ct,t.Identity=Dt,t.IdentityService=V,t.Image=nt,t.ImageType=rt,t.MenuItem=Tt,t.MenuService=_t,t.Taxonomy=Rt,t.OnceService=Lt,t.Outlet=Y,t.OUTLETS=W,t.OutletDefaultComponent=K,t.OutletRepeaterComponent=Z,t.OutletComponent=X,t.AssetPipe=tt,t.CustomAsyncPipe=et,t.ImageUrlPipe=ot,t.ImagePipe=it,t.PublicPipe=at,t.SegmentPipe=F,t.RoutePipe=st,t.RouteService=B,t.SlugPipe=pt,t.SlugService=ut,t.CookieStorageService=C,t.LocalStorageService=T,t.SessionStorageService=D,t.StorageService=k,t.Translate=Et,t.TranslateDirective=lt,t.TranslatePipe=ft,t.TranslateService=A,t.SafeStylePipe=gt,t.SafeUrlPipe=ht,t.TrustPipe=dt,t.ɵc=x,t.ɵb=Q,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=designr-core.umd.min.js.map